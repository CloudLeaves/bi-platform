webpackJsonp([5],{268:function(e,t,n){e.exports={"default":n(269),__esModule:!0}},269:function(e,t,n){n(270),n(297),e.exports=n(300)},270:function(e,t,n){n(271);var r=n(274);r.NodeList=r.HTMLCollection=r.Array},271:function(e,t,n){"use strict";var r=n(272),o=n(273),s=n(274),i=n(275);e.exports=n(279)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},272:function(e,t){e.exports=function(){}},273:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},274:function(e,t){e.exports={}},275:function(e,t,n){var r=n(276),o=n(278);e.exports=function(e){return r(o(e))}},276:function(e,t,n){var r=n(277);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},277:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},278:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},279:function(e,t,n){"use strict";var r=n(280),o=n(281),s=n(285),i=n(286),c=n(291),a=n(274),u=n(292),l=n(293),d=n(287).getProto,f=n(294)("iterator"),p=!([].keys&&"next"in[].keys()),v="@@iterator",h="keys",b="values",y=function(){return this};e.exports=function(e,t,n,x,m,g,w){u(n,t,x);var _,T,k=function(e){if(!p&&e in j)return j[e];switch(e){case h:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this,e)}},M=t+" Iterator",E=m==b,O=!1,j=e.prototype,S=j[f]||j[v]||m&&j[m],G=S||k(m);if(S){var D=d(G.call(new e));l(D,M,!0),!r&&c(j,v)&&i(D,f,y),E&&S.name!==b&&(O=!0,G=function(){return S.call(this)})}if(r&&!w||!p&&!O&&j[f]||i(j,f,G),a[t]=G,a[M]=y,m)if(_={values:E?G:k(b),keys:g?G:k(h),entries:E?k("entries"):G},w)for(T in _)T in j||s(j,T,_[T]);else o(o.P+o.F*(p||O),t,_);return _}},280:function(e,t){e.exports=!0},281:function(e,t,n){var r=n(282),o=n(232),s=n(283),i="prototype",c=function(e,t,n){var a,u,l,d=e&c.F,f=e&c.G,p=e&c.S,v=e&c.P,h=e&c.B,b=e&c.W,y=f?o:o[t]||(o[t]={}),x=f?r:p?r[t]:(r[t]||{})[i];f&&(n=t);for(a in n)u=!d&&x&&a in x,u&&a in y||(l=u?x[a]:n[a],y[a]=f&&"function"!=typeof x[a]?n[a]:h&&u?s(l,r):b&&x[a]==l?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[i]=e[i],t}(l):v&&"function"==typeof l?s(Function.call,l):l,v&&((y[i]||(y[i]={}))[a]=l))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,e.exports=c},282:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},283:function(e,t,n){var r=n(284);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},284:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},285:function(e,t,n){e.exports=n(286)},286:function(e,t,n){var r=n(287),o=n(288);e.exports=n(289)?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},287:function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},288:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},289:function(e,t,n){e.exports=!n(290)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},290:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},291:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},292:function(e,t,n){"use strict";var r=n(287),o=n(288),s=n(293),i={};n(286)(i,n(294)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r.create(i,{next:o(1,n)}),s(e,t+" Iterator")}},293:function(e,t,n){var r=n(287).setDesc,o=n(291),s=n(294)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},294:function(e,t,n){var r=n(295)("wks"),o=n(296),s=n(282).Symbol;e.exports=function(e){return r[e]||(r[e]=s&&s[e]||(s||o)("Symbol."+e))}},295:function(e,t,n){var r=n(282),o="__core-js_shared__",s=r[o]||(r[o]={});e.exports=function(e){return s[e]||(s[e]={})}},296:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},297:function(e,t,n){"use strict";var r=n(298)(!0);n(279)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},298:function(e,t,n){var r=n(299),o=n(278);e.exports=function(e){return function(t,n){var s,i,c=String(o(t)),a=r(n),u=c.length;return 0>a||a>=u?e?"":void 0:(s=c.charCodeAt(a),55296>s||s>56319||a+1===u||(i=c.charCodeAt(a+1))<56320||i>57343?e?c.charAt(a):s:e?c.slice(a,a+2):(s-55296<<10)+(i-56320)+65536)}}},299:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},300:function(e,t,n){var r=n(301),o=n(303);e.exports=n(232).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},301:function(e,t,n){var r=n(302);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},302:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},303:function(e,t,n){var r=n(304),o=n(294)("iterator"),s=n(274);e.exports=n(232).getIteratorMethod=function(e){return void 0!=e?e[o]||e["@@iterator"]||s[r(e)]:void 0}},304:function(e,t,n){var r=n(277),o=n(294)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[o])?n:s?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},309:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(230),s=r(o),i=n(310),c=r(i),a=n(314),u=r(a),l=n(334),d=r(l),f=n(340),p=r(f);n(341),t["default"]={template:p["default"],data:function(){return{status:0,selectedDs:"",selectedGroup:"",tablesRules:[],tables:[],dsGroups:[],ruleError:""}},created:function(){var e=this,t=d["default"].getSelectedDsId(this.$route.params.id),n=d["default"].getDataSourceGroups().then(function(t){e.dsGroups=t,e.status=1}),r=d["default"].getSelectedRules(this.$route.params.id).then(function(t){e.tablesRules=t.regexps,e.selectedTables=t.selectedTables});u["default"].all([t,r,n]).then(function(t){var n=(0,c["default"])(t,1),r=n[0];if(r.selectedDatasourceId)e.selectedGroup=r.selectedGroupId||"",e.selectedDs=r.selectedDatasourceId||"";else{var o=e.dsGroups.find(function(e){return e.active&&e.active.id});e.selectedGroup=o.id,e.selectDs=o.active.id}})},methods:{dsSelect:function(e){e.id!==this.selectedGroupId&&(this.selectedGroup=e.id,this.selectedDs=e.active.id,this.tablesRules=[])},tlSelect:function(e){if(this.ruleError="",e.selected=!e.selected,!e.selected){var t=this.tables.filter(function(e){return e.selected});return t.length?void(t.length>=this.tablesRules||this.tablesRules.reduce(function(e,n){return n.tableName===e.nowTableName&&(n.tableName=t[0].name),e},{nowTableName:e.name,nowAccessTables:t})):void(this.tablesRules=[])}},addTablesRules:function(){return this.tables.some(function(e){return e.selected})?this.tablesRules.length>=this.tables.filter(function(e){return e.selected}).length?void(this.ruleError="不能再添加规则"):(this.ruleError="",void this.tablesRules.push({tableName:this.tables.filter(function(e){return e.selected})[0].name,type:"TIME",condition:"yyyy",prefix:""})):void(this.ruleError="请先选择表格")},onOK:function(){var e=this,t=this.tables.reduce(function(e,t){return t.selected?(e.push(t.name),e):e},[]);if(!t.length)return this.$root.$refs.globalAlert.show=!0,void(this.$root.$refs.globalAlert.msg="请选择事实表");var n=this.tablesRules.reduce(function(e,t){return null===e?e:e[t.tableName]?e=null:(e[t.tableName]={type:t.type,condition:t.condition,prefix:t.prefix},e)},{});if(null===n)return void(this.ruleError="表格不能重复");var r={dataSourceId:this.selectedGroup,selectedTables:t.join(","),regexps:(0,s["default"])(n)};d["default"].starModels(this.$route.params.id,r).then(function(){return e.$route.router.go("/list/"+e.$route.params.id+"/configDim")})},onCancel:function(){this.$route.router.go("/list/")}},watch:{selectedDs:function(e){var t=this;d["default"].getTables({selectedGroupId:this.selectedGroup,selectedDatasourceId:e}).then(function(e){return t.selectedTables?(e.reduce(function(e,t){return t.selected=-1!==e.indexOf(t.id),e},t.selectedTables),t.tables=e,void delete t.selectedTables):void(t.tables=e.map(function(e){return e.selected=!1,e}))},function(e){t.tables=[],t.$root.$refs.globalAlert.title="提示",t.$root.$refs.globalAlert.msg=e.status+"："+e.statusInfo,t.$root.$refs.globalAlert.show=!0})}}},e.exports=t["default"]},310:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(311),s=r(o),i=n(268),c=r(i);t["default"]=function(){function e(e,t){var n=[],r=!0,o=!1,s=void 0;try{for(var i,a=(0,c["default"])(e);!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){o=!0,s=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,s["default"])(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},311:function(e,t,n){e.exports={"default":n(312),__esModule:!0}},312:function(e,t,n){n(270),n(297),e.exports=n(313)},313:function(e,t,n){var r=n(304),o=n(294)("iterator"),s=n(274);e.exports=n(232).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||s.hasOwnProperty(r(t))}},314:function(e,t,n){e.exports={"default":n(315),__esModule:!0}},315:function(e,t,n){n(316),n(297),n(270),n(317),e.exports=n(232).Promise},316:function(e,t){},317:function(e,t,n){"use strict";var r,o=n(287),s=n(280),i=n(282),c=n(283),a=n(304),u=n(281),l=n(302),d=n(301),f=n(284),p=n(318),v=n(319),h=n(323).set,b=n(324),y=n(294)("species"),x=n(325),m=n(326),g="Promise",w=i.process,_="process"==a(w),T=i[g],k=function(e){var t=new T(function(){});return e&&(t.constructor=Object),T.resolve(t)===t},M=function(){function e(t){var n=new T(t);return h(n,e.prototype),n}var t=!1;try{if(t=T&&T.resolve&&k(),h(e,T),e.prototype=o.create(T.prototype,{constructor:{value:e}}),e.resolve(5).then(function(){})instanceof e||(t=!1),t&&n(289)){var r=!1;T.resolve(o.setDesc({},"then",{get:function(){r=!0}})),t=r}}catch(s){t=!1}return t}(),E=function(e,t){return s&&e===T&&t===r?!0:b(e,t)},O=function(e){var t=d(e)[y];return void 0!=t?t:e},j=function(e){var t;return l(e)&&"function"==typeof(t=e.then)?t:!1},S=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=f(t),this.reject=f(n)},G=function(e){try{e()}catch(t){return{error:t}}},D=function(e,t){if(!e.n){e.n=!0;var n=e.c;m(function(){for(var r=e.v,o=1==e.s,s=0,c=function(t){var n,s,i=o?t.ok:t.fail,c=t.resolve,a=t.reject;try{i?(o||(e.h=!0),n=i===!0?r:i(r),n===t.promise?a(TypeError("Promise-chain cycle")):(s=j(n))?s.call(n,c,a):c(n)):a(r)}catch(u){a(u)}};n.length>s;)c(n[s++]);n.length=0,e.n=!1,t&&setTimeout(function(){var t,n,o=e.p;I(o)&&(_?w.emit("unhandledRejection",r,o):(t=i.onunhandledrejection)?t({promise:o,reason:r}):(n=i.console)&&n.error&&n.error("Unhandled promise rejection",r)),e.a=void 0},1)})}},I=function(e){var t,n=e._d,r=n.a||n.c,o=0;if(n.h)return!1;for(;r.length>o;)if(t=r[o++],t.fail||!I(t.promise))return!1;return!0},P=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),D(t,!0))},A=function(e){var t,n=this;if(!n.d){n.d=!0,n=n.r||n;try{if(n.p===e)throw TypeError("Promise can't be resolved itself");(t=j(e))?m(function(){var r={r:n,d:!1};try{t.call(e,c(A,r,1),c(P,r,1))}catch(o){P.call(r,o)}}):(n.v=e,n.s=1,D(n,!1))}catch(r){P.call({r:n,d:!1},r)}}};M||(T=function(e){f(e);var t=this._d={p:p(this,T,g),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(c(A,t,1),c(P,t,1))}catch(n){P.call(t,n)}},n(331)(T.prototype,{then:function(e,t){var n=new S(x(this,T)),r=n.promise,o=this._d;return n.ok="function"==typeof e?e:!0,n.fail="function"==typeof t&&t,o.c.push(n),o.a&&o.a.push(n),o.s&&D(o,!1),r},"catch":function(e){return this.then(void 0,e)}})),u(u.G+u.W+u.F*!M,{Promise:T}),n(293)(T,g),n(332)(g),r=n(232)[g],u(u.S+u.F*!M,g,{reject:function(e){var t=new S(this),n=t.reject;return n(e),t.promise}}),u(u.S+u.F*(!M||k(!0)),g,{resolve:function(e){if(e instanceof T&&E(e.constructor,this))return e;var t=new S(this),n=t.resolve;return n(e),t.promise}}),u(u.S+u.F*!(M&&n(333)(function(e){T.all(e)["catch"](function(){})})),g,{all:function(e){var t=O(this),n=new S(t),r=n.resolve,s=n.reject,i=[],c=G(function(){v(e,!1,i.push,i);var n=i.length,c=Array(n);n?o.each.call(i,function(e,o){var i=!1;t.resolve(e).then(function(e){i||(i=!0,c[o]=e,--n||r(c))},s)}):r(c)});return c&&s(c.error),n.promise},race:function(e){var t=O(this),n=new S(t),r=n.reject,o=G(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o&&r(o.error),n.promise}})},318:function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e}},319:function(e,t,n){var r=n(283),o=n(320),s=n(321),i=n(301),c=n(322),a=n(303);e.exports=function(e,t,n,u){var l,d,f,p=a(e),v=r(n,u,t?2:1),h=0;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(s(p))for(l=c(e.length);l>h;h++)t?v(i(d=e[h])[0],d[1]):v(e[h]);else for(f=p.call(e);!(d=f.next()).done;)o(f,v,d.value,t)}},320:function(e,t,n){var r=n(301);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(s){var i=e["return"];throw void 0!==i&&r(i.call(e)),s}}},321:function(e,t,n){var r=n(274),o=n(294)("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[o]===e)}},322:function(e,t,n){var r=n(299),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},323:function(e,t,n){var r=n(287).getDesc,o=n(302),s=n(301),i=function(e,t){if(s(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{o=n(283)(Function.call,r(Object.prototype,"__proto__").set,2),o(e,[]),t=!(e instanceof Array)}catch(s){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:i}},324:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},325:function(e,t,n){var r=n(301),o=n(284),s=n(294)("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||void 0==(n=r(i)[s])?t:o(n)}},326:function(e,t,n){var r,o,s,i=n(282),c=n(327).set,a=i.MutationObserver||i.WebKitMutationObserver,u=i.process,l=i.Promise,d="process"==n(277)(u),f=function(){var e,t,n;for(d&&(e=u.domain)&&(u.domain=null,e.exit());r;)t=r.domain,n=r.fn,t&&t.enter(),n(),t&&t.exit(),r=r.next;o=void 0,e&&e.enter()};if(d)s=function(){u.nextTick(f)};else if(a){var p=1,v=document.createTextNode("");new a(f).observe(v,{characterData:!0}),s=function(){v.data=p=-p}}else s=l&&l.resolve?function(){l.resolve().then(f)}:function(){c.call(i,f)};e.exports=function(e){var t={fn:e,next:void 0,domain:d&&u.domain};o&&(o.next=t),r||(r=t,s()),o=t}},327:function(e,t,n){var r,o,s,i=n(283),c=n(328),a=n(329),u=n(330),l=n(282),d=l.process,f=l.setImmediate,p=l.clearImmediate,v=l.MessageChannel,h=0,b={},y="onreadystatechange",x=function(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},m=function(e){x.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++h]=function(){c("function"==typeof e?e:Function(e),t)},r(h),h},p=function(e){delete b[e]},"process"==n(277)(d)?r=function(e){d.nextTick(i(x,e,1))}:v?(o=new v,s=o.port2,o.port1.onmessage=m,r=i(s.postMessage,s,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",m,!1)):r=y in u("script")?function(e){a.appendChild(u("script"))[y]=function(){a.removeChild(this),x.call(e)}}:function(e){setTimeout(i(x,e,1),0)}),e.exports={set:f,clear:p}},328:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},329:function(e,t,n){e.exports=n(282).document&&document.documentElement},330:function(e,t,n){var r=n(302),o=n(282).document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},331:function(e,t,n){var r=n(285);e.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e}},332:function(e,t,n){"use strict";var r=n(232),o=n(287),s=n(289),i=n(294)("species");e.exports=function(e){var t=r[e];s&&t&&!t[i]&&o.setDesc(t,i,{configurable:!0,get:function(){return this}})}},333:function(e,t,n){var r=n(294)("iterator"),o=!1;try{var s=[7][r]();s["return"]=function(){o=!0},Array.from(s,function(){throw 2})}catch(i){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var s=[7],i=s[r]();i.next=function(){n=!0},s[r]=function(){return i},e(s)}catch(c){}return n}},334:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(335),s=r(o),i=n(268),c=r(i),a=n(36),u=r(a);t["default"]={getSelectedDsId:function(e){return window.$=u["default"],u["default"].requestGET("reports/"+e+"/ds_id").then(function(e){return e.data||{}})},getSelectedRules:function(e){return u["default"].requestGET("reports/"+e+"/cube_tables").then(function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=(0,c["default"])((0,s["default"])(e.data.regexps));!(n=(i=a.next()).done);n=!0){var u=i.value;e.data.regexps[u].tableName=u,t.push(e.data.regexps[u])}}catch(l){r=!0,o=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}return{regexps:t,selectedTables:e.data.selected}})},getDataSourceGroups:function(){return u["default"].requestGET("dsgroup/active").then(function(e){return e.data||[]})},getTables:function(e){var t="dsgroup/"+e.selectedGroupId+"/datasources/"+e.selectedDatasourceId+"/tables",n=new u["default"].Deferred;return u["default"].requestGET(t).then(function(e){"array"!==u["default"].type(e.data)&&n.reject(e),n.resolve(e.data)},function(e){return n.reject(e)}),n.promise()},starModels:function(e,t){return u["default"].requestPOST("reports/"+e+"/star_models",t)}},e.exports=t["default"]},335:function(e,t,n){e.exports={"default":n(336),__esModule:!0}},336:function(e,t,n){n(337),e.exports=n(232).Object.keys},337:function(e,t,n){var r=n(338);n(339)("keys",function(e){return function(t){return e(r(t))}})},338:function(e,t,n){var r=n(278);e.exports=function(e){return Object(r(e))}},339:function(e,t,n){var r=n(281),o=n(232),s=n(290);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],i={};i[e]=t(n),r(r.S+r.F*s(function(){n(1)}),"Object",i)}},340:function(e,t){e.exports='<template v-if="status === 0">\n    加载中，请稍后\n</template>\n<div class="select-ds" v-if="status === 1">\n    <div class="select-ds-correspond-tab">\n        <div class="select-ds-list-ds-wrap">\n            <ul class="select-ds-list-ds">\n                <li class="select-ds-list-title">请选择数据源</li>\n                <li v-for="dsGroup in dsGroups" class="select-ds-list-ds-item" track-by="id">\n                    {{dsGroup.name}}\n                    <div v-if="dsGroup.active" :class="{\'selected\': dsGroup.active.id === selectedDs}" @click="dsSelect(dsGroup)">{{dsGroup.active.name}}</div>\n                </li>\n            </ul>\n        </div>\n        <div class="select-ds-list-tab-wrap">\n            <ul class="select-ds-list-tab">\n                <li class="select-ds-list-title">请选择要使用的事实表（可多选）</li>\n                <li v-for="table in tables" class="select-ds-list-table-item" @click="tlSelect(table)" :class="{\'selected\': table.selected}" track-by="id">{{table.name}}</li>\n                <li v-if="!tables.length">\n                    <p class="select-ds-list-err-empty">暂无数据！</p>\n                </li>\n            </ul>\n            <div class="add-tab-rules" v-if="tables.length">\n                <div>\n                    <a class="add-tab-rules-btn" @click="addTablesRules">添加分表规则</a>\n                    <strong class="add-tab-rules-tip">（注意：同一规则只需提供一张表）</strong>\n                </div>\n                <div v-for="rule in tablesRules" class="add-tab-rules-rule" track-by="$index">\n                    <select v-model="rule.tableName">\n                        <option v-for="table in tables | filterBy true in \'selected\'" :value="table.name" track-by="id">\n                            {{table.name}}\n                        </option>\n                    </select>\n                    <select v-model="rule.type">\n                        <option value="TIME">时间</option>\n                        <option value="DIST">地域</option>\n                    </select>\n                    <select v-model="rule.condition">\n                        <option value="yyyy">年(yyyy)</option>\n                        <option value="yyyyMM">月(yyyyMM)</option>\n                        <option value="yyyyMMdd">日(yyyyMMdd)</option>\n                    </select>\n                    <input class="text" v-model="rule.prefix" placeholder="分表匹配规则">\n                    <span class="add-tab-rules-del" @click="tablesRules.$remove(rule)">×</span>\n                </div>\n                <p class="add-tab-rules-error" v-if="ruleError">\n                    提示：{{ruleError}}\n                </p>\n            </div>\n        </div>\n    </div>\n    <div class="select-ds-actions">\n        <input type="button" class="btn btn-default" @click="onCancel" value="取消">\n        <input type="button" class="btn btn-primary" @click="onOK" value="确定">\n    </div>\n</div>\n<div v-if="status === 2">\n    <p>status:{{status}}，未能查到相关数据，请稍后重试！</p>\n</div>'},341:function(e,t,n){var r=n(342);"string"==typeof r&&(r=[[e.id,r,""]]);n(244)(r,{});r.locals&&(e.exports=r.locals)},342:function(e,t,n){t=e.exports=n(243)(),t.push([e.id,".clearfix {\n  *zoom: 1;\n  /* for IE 6/7 */\n}\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: \"\";\n  line-height: 0;\n  /* for Opera */\n}\n.clearfix:after {\n  clear: both;\n}\n.select-ds-correspond-tab {\n  overflow: hidden;\n  width: 900px;\n  margin: 20px auto;\n  *zoom: 1;\n  /* for IE 6/7 */\n}\n.select-ds-correspond-tab:before,\n.select-ds-correspond-tab:after {\n  display: table;\n  content: \"\";\n  line-height: 0;\n  /* for Opera */\n}\n.select-ds-correspond-tab:after {\n  clear: both;\n}\n.select-ds-list-ds-wrap,\n.select-ds-list-tab-wrap {\n  float: left;\n}\n.select-ds-list-ds-wrap {\n  width: 350px;\n}\n.select-ds-list-tab-wrap {\n  width: 550px;\n}\n.select-ds-list-tab-wrap {\n  margin: 0 0 0 -2px;\n  border-left: 2px solid #ccc;\n}\n.select-ds-list-ds,\n.select-ds-list-tab {\n  padding: 5px 10px;\n}\n.select-ds-list-title {\n  height: 30px;\n  border-bottom: 1px solid #ccc;\n  line-height: 30px;\n  font-size: 14px;\n  font-weight: 700;\n}\n.select-ds-list-ds-item > div,\n.select-ds-list-table-item {\n  margin: 3px;\n  color: #747474;\n  cursor: pointer;\n}\n.select-ds-list-ds-item > div:hover,\n.select-ds-list-table-item:hover {\n  color: #4491c4;\n  background-color: #f0f7fc;\n}\n.select-ds-list-ds-item > div.selected,\n.select-ds-list-table-item.selected {\n  background-color: #deebf3;\n}\n.select-ds-list-ds-item > div {\n  max-width: 300px;\n  white-space: nowrap;\n  word-wrap: normal;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: inline-block;\n  display: block;\n}\n.select-ds-list-ds-item > div {\n  padding: 3px 0;\n  line-height: 24px;\n}\n.select-ds-list-ds-item > div:before {\n  display: inline-block;\n  content: '';\n  width: 28px;\n  height: 24px;\n  line-height: 0;\n  vertical-align: bottom;\n  background: url('/silkroad/new-biplatform/asset/common/img/btn-icons.png') no-repeat 4px -184px;\n}\n.select-ds-list-table-item {\n  padding: 2px;\n}\n.select-ds-list-err-empty {\n  padding: 10px;\n  text-align: center;\n}\n.select-ds .add-tab-rules {\n  padding: 2px;\n  margin: 3px 3px 3px 10px;\n  border-top: 1px solid #ccc;\n}\n.select-ds .add-tab-rules-tip,\n.select-ds .add-tab-rules-error {\n  color: #f90000;\n}\n.select-ds .add-tab-rules-btn {\n  cursor: pointer;\n}\n.select-ds .add-tab-rules-btn:before {\n  display: inline-block;\n  content: '';\n  width: 14px;\n  height: 22px;\n  line-height: 0;\n  vertical-align: bottom;\n  background: url('/silkroad/new-biplatform/asset/common/img/btn-icons.png') no-repeat -3px -123px;\n}\n.select-ds .add-tab-rules-rule {\n  margin: 3px 0;\n  padding: 2px;\n}\n.select-ds .add-tab-rules-rule > select {\n  width: 100px;\n}\n.select-ds .add-tab-rules-rule .text {\n  width: 175px;\n}\n.select-ds .add-tab-rules-del {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n  margin: 0 0 0 1px;\n  border: 1px solid #b3b3b3;\n  font-size: 14px;\n  line-height: 22px;\n  text-align: center;\n  border-radius: 3px;\n  color: #b3b3b3;\n  cursor: pointer;\n}\n.select-ds .add-tab-rules-del:hover {\n  border: 1px solid #589fe7;\n  color: #fff;\n  background-color: #3399ff;\n}\n.select-ds-actions {\n  text-align: center;\n}\n",""])}});