webpackJsonp([8],{629:function(t,e,i){var a,s;a=i(630),a&&a.__esModule&&Object.keys(a).length>1&&console.warn("[vue-loader] app/asset/editReport/components/chart/chart.vue: named exports in *.vue files are ignored."),s=i(773),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]),s&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)},630:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function s(){var t=this;this.chartInstance.on("click",function(e){t.$dispatch("relate",e)})}Object.defineProperty(e,"__esModule",{value:!0});var n=i(230),o=a(n),r=i(631),h=a(r);i(713),i(723),i(724),i(725),e["default"]={props:{chartData:{type:Object,"default":{}},inds:{type:Array,"default":[]},type:{type:String,"default":"line"},componentId:{type:String,"default":""},nowInd:{type:String,"default":""}},methods:{isEmpty:function(){return"{}"===(0,o["default"])(this.chartData)}},watch:{nowInd:function(t,e){if(e&&t){var i=this.inds.indexOf(t);this.$dispatch("change-ind",i)}},chartData:function(t){this.chartInstance&&(this.chartInstance.dispose(),this.chartInstance=null),this.isEmpty()||(this.chartInstance=h["default"].init(this.$els.chart,"default"),s.call(this),this.chartInstance.setOption(t))}},beforeDestroy:function(){this.chartInstance&&this.chartInstance.dispose()},events:{resize:function(){this.chartData&&this.chartInstance&&this.chartInstance.resize()}}}},723:function(t,e,i){var a;a=function(t){function e(t,e,i,s,n){a.call(this,t,e,i,s,n),this.refresh(s)}var a=i(662),s=i(653);i(715),i(721),i(722);var n=i(632);n.bar={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,barGap:"30%",barCategoryGap:"20%",itemStyle:{normal:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:!1}},emphasis:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:!1}}}};var o=i(680),r=i(633),h=i(652);return e.prototype={type:n.CHART_TYPE_BAR,_buildShape:function(){this._buildPosition()},_buildNormal:function(t,e,i,a,o){for(var r,h,l,p,c,d,u,g,_,f,m,y,x=this.series,v=i[0][0],b=x[v],M="horizontal"==o,S=this.component.xAxis,L=this.component.yAxis,C=M?S.getAxis(b.xAxisIndex):L.getAxis(b.yAxisIndex),O=this._mapSize(C,i),R=O.gap,T=O.barGap,A=O.barWidthMap,k=O.barMaxWidthMap,w=O.barWidth,z=O.barMinHeightMap,E=O.interval,I=this.deepQuery([this.ecTheme,n],"island.r"),N=0,D=e;D>N&&null!=C.getNameByIndex(N);N++){M?p=C.getCoordByIndex(N)-R/2:c=C.getCoordByIndex(N)+R/2;for(var G=0,P=i.length;P>G;G++){var B=x[i[G][0]].yAxisIndex||0,W=x[i[G][0]].xAxisIndex||0;r=M?L.getAxis(B):S.getAxis(W),u=d=_=g=r.getCoord(0);for(var F=0,H=i[G].length;H>F;F++)v=i[G][F],b=x[v],m=b.data[N],y=this.getDataFromOption(m,"-"),a[v]=a[v]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},l=Math.min(k[v]||Number.MAX_VALUE,A[v]||w),"-"!==y&&(y>0?(h=F>0?r.getCoordSize(y):M?u-r.getCoord(y):r.getCoord(y)-u,1===H&&z[v]>h&&(h=z[v]),M?(d-=h,c=d):(p=d,d+=h)):0>y?(h=F>0?r.getCoordSize(y):M?r.getCoord(y)-_:_-r.getCoord(y),1===H&&z[v]>h&&(h=z[v]),M?(c=g,g+=h):(g-=h,p=g)):(h=0,M?(d-=h,c=d):(p=d,d+=h)),a[v][N]=M?p+l/2:c-l/2,a[v].min>y&&(a[v].min=y,M?(a[v].minY=c,a[v].minX=a[v][N]):(a[v].minX=p+h,a[v].minY=a[v][N])),a[v].max<y&&(a[v].max=y,M?(a[v].maxY=c,a[v].maxX=a[v][N]):(a[v].maxX=p+h,a[v].maxY=a[v][N])),a[v].sum+=y,a[v].counter++,N%E===0&&(f=this._getBarItem(v,N,C.getNameByIndex(N),p,c-(M?0:l),M?l:h,M?h:l,M?"vertical":"horizontal"),this.shapeList.push(new s(f))));for(var F=0,H=i[G].length;H>F;F++)v=i[G][F],b=x[v],m=b.data[N],y=this.getDataFromOption(m,"-"),l=Math.min(k[v]||Number.MAX_VALUE,A[v]||w),"-"==y&&this.deepQuery([m,b,this.option],"calculable")&&(M?(d-=I,c=d):(p=d,d+=I),f=this._getBarItem(v,N,C.getNameByIndex(N),p,c-(M?0:l),M?l:I,M?I:l,M?"vertical":"horizontal"),f.hoverable=!1,f.draggable=!1,f.style.lineWidth=1,f.style.brushType="stroke",f.style.strokeColor=b.calculableHolderColor||this.ecTheme.calculableHolderColor||n.calculableHolderColor,this.shapeList.push(new s(f)));M?p+=l+T:c-=l+T}}this._calculMarkMapXY(a,i,M?"y":"x")},_buildHorizontal:function(t,e,i,a){return this._buildNormal(t,e,i,a,"horizontal")},_buildVertical:function(t,e,i,a){return this._buildNormal(t,e,i,a,"vertical")},_buildOther:function(t,e,i,a){for(var n=this.series,o=0,r=i.length;r>o;o++)for(var h=0,l=i[o].length;l>h;h++){var p=i[o][h],c=n[p],d=c.xAxisIndex||0,u=this.component.xAxis.getAxis(d),g=u.getCoord(0),_=c.yAxisIndex||0,f=this.component.yAxis.getAxis(_),m=f.getCoord(0);a[p]=a[p]||{min0:Number.POSITIVE_INFINITY,min1:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum0:0,sum1:0,counter0:0,counter1:0,average0:0,average1:0};for(var y=0,x=c.data.length;x>y;y++){var v=c.data[y],b=this.getDataFromOption(v,"-");if(b instanceof Array){var M,S,L=u.getCoord(b[0]),C=f.getCoord(b[1]),O=[v,c],R=this.deepQuery(O,"barWidth")||10,T=this.deepQuery(O,"barHeight");null!=T?(M="horizontal",b[0]>0?(R=L-g,L-=R):R=b[0]<0?g-L:0,S=this._getBarItem(p,y,b[0],L,C-T/2,R,T,M)):(M="vertical",b[1]>0?T=m-C:b[1]<0?(T=C-m,C-=T):T=0,S=this._getBarItem(p,y,b[0],L-R/2,C,R,T,M)),this.shapeList.push(new s(S)),L=u.getCoord(b[0]),C=f.getCoord(b[1]),a[p].min0>b[0]&&(a[p].min0=b[0],a[p].minY0=C,a[p].minX0=L),a[p].max0<b[0]&&(a[p].max0=b[0],a[p].maxY0=C,a[p].maxX0=L),a[p].sum0+=b[0],a[p].counter0++,a[p].min1>b[1]&&(a[p].min1=b[1],a[p].minY1=C,a[p].minX1=L),a[p].max1<b[1]&&(a[p].max1=b[1],a[p].maxY1=C,a[p].maxX1=L),a[p].sum1+=b[1],a[p].counter1++}}}this._calculMarkMapXY(a,i,"xy")},_mapSize:function(t,e,i){var a,s,n=this._findSpecialBarSzie(e,i),o=n.barWidthMap,r=n.barMaxWidthMap,h=n.barMinHeightMap,l=n.sBarWidthCounter,p=n.sBarWidthTotal,c=n.barGap,d=n.barCategoryGap,u=1;if(e.length!=l){if(i)a=t.getGap(),c=0,s=+(a/e.length).toFixed(2),0>=s&&(u=Math.floor(e.length/a),s=1);else if(a="string"==typeof d&&d.match(/%$/)?(t.getGap()*(100-parseFloat(d))/100).toFixed(2)-0:t.getGap()-d,"string"==typeof c&&c.match(/%$/)?(c=parseFloat(c)/100,s=+((a-p)/((e.length-1)*c+e.length-l)).toFixed(2),c=s*c):(c=parseFloat(c),s=+((a-p-c*(e.length-1))/(e.length-l)).toFixed(2)),0>=s)return this._mapSize(t,e,!0)}else if(a=l>1?"string"==typeof d&&d.match(/%$/)?+(t.getGap()*(100-parseFloat(d))/100).toFixed(2):t.getGap()-d:p,s=0,c=l>1?+((a-p)/(l-1)).toFixed(2):0,0>c)return this._mapSize(t,e,!0);return this._recheckBarMaxWidth(e,o,r,h,a,s,c,u)},_findSpecialBarSzie:function(t,e){for(var i,a,s,n,o=this.series,r={},h={},l={},p=0,c=0,d=0,u=t.length;u>d;d++)for(var g={barWidth:!1,barMaxWidth:!1},_=0,f=t[d].length;f>_;_++){var m=t[d][_],y=o[m];if(!e){if(g.barWidth)r[m]=i;else if(i=this.query(y,"barWidth"),null!=i){r[m]=i,c+=i,p++,g.barWidth=!0;for(var x=0,v=_;v>x;x++){var b=t[d][x];r[b]=i}}if(g.barMaxWidth)h[m]=a;else if(a=this.query(y,"barMaxWidth"),null!=a){h[m]=a,g.barMaxWidth=!0;for(var x=0,v=_;v>x;x++){var b=t[d][x];h[b]=a}}}l[m]=this.query(y,"barMinHeight"),s=null!=s?s:this.query(y,"barGap"),n=null!=n?n:this.query(y,"barCategoryGap")}return{barWidthMap:r,barMaxWidthMap:h,barMinHeightMap:l,sBarWidth:i,sBarMaxWidth:a,sBarWidthCounter:p,sBarWidthTotal:c,barGap:s,barCategoryGap:n}},_recheckBarMaxWidth:function(t,e,i,a,s,n,o,r){for(var h=0,l=t.length;l>h;h++){var p=t[h][0];i[p]&&i[p]<n&&(s-=n-i[p])}return{barWidthMap:e,barMaxWidthMap:i,barMinHeightMap:a,gap:s,barWidth:n,barGap:o,interval:r}},_getBarItem:function(t,e,i,a,s,n,r,l){var p,c=this.series,d=c[t],u=d.data[e],g=this._sIndex2ColorMap[t],_=[u,d],f=this.deepMerge(_,"itemStyle.normal"),m=this.deepMerge(_,"itemStyle.emphasis"),y=f.barBorderWidth;p={zlevel:d.zlevel,z:d.z,clickable:this.deepQuery(_,"clickable"),style:{x:a,y:s,width:n,height:r,brushType:"both",color:this.getItemStyleColor(this.deepQuery(_,"itemStyle.normal.color")||g,t,e,u),radius:f.barBorderRadius,lineWidth:y,strokeColor:f.barBorderColor},highlightStyle:{color:this.getItemStyleColor(this.deepQuery(_,"itemStyle.emphasis.color"),t,e,u),radius:m.barBorderRadius,lineWidth:m.barBorderWidth,strokeColor:m.barBorderColor},_orient:l};var x=p.style;p.highlightStyle.color=p.highlightStyle.color||("string"==typeof x.color?h.lift(x.color,-.3):x.color),x.x=Math.floor(x.x),x.y=Math.floor(x.y),x.height=Math.ceil(x.height),x.width=Math.ceil(x.width),y>0&&x.height>y&&x.width>y?(x.y+=y/2,x.height-=y,x.x+=y/2,x.width-=y):x.brushType="fill",p.highlightStyle.textColor=p.highlightStyle.color,p=this.addLabel(p,d,u,i,l);for(var v=[x,p.highlightStyle],b=0,M=v.length;M>b;b++){var S=v[b].textPosition;if("insideLeft"===S||"insideRight"===S||"insideTop"===S||"insideBottom"===S){var L=5;switch(S){case"insideLeft":v[b].textX=x.x+L,v[b].textY=x.y+x.height/2,v[b].textAlign="left",v[b].textBaseline="middle";break;case"insideRight":v[b].textX=x.x+x.width-L,v[b].textY=x.y+x.height/2,v[b].textAlign="right",v[b].textBaseline="middle";break;case"insideTop":v[b].textX=x.x+x.width/2,v[b].textY=x.y+L/2,v[b].textAlign="center",v[b].textBaseline="top";break;case"insideBottom":v[b].textX=x.x+x.width/2,v[b].textY=x.y+x.height-L/2,v[b].textAlign="center",v[b].textBaseline="bottom"}v[b].textPosition="specific",v[b].textColor=v[b].textColor||"#fff"}}return this.deepQuery([u,d,this.option],"calculable")&&(this.setCalculable(p),p.draggable=!0),o.pack(p,c[t],t,c[t].data[e],e,i),p},getMarkCoord:function(t,e){var i,a,s=this.series[t],n=this.xMarkMap[t],o=this.component.xAxis.getAxis(s.xAxisIndex),r=this.component.yAxis.getAxis(s.yAxisIndex);if(!e.type||"max"!==e.type&&"min"!==e.type&&"average"!==e.type)if(n.isHorizontal){i="string"==typeof e.xAxis&&o.getIndexByName?o.getIndexByName(e.xAxis):e.xAxis||0;var h=n[i];h=null!=h?h:"string"!=typeof e.xAxis&&o.getCoordByIndex?o.getCoordByIndex(e.xAxis||0):o.getCoord(e.xAxis||0),a=[h,r.getCoord(e.yAxis||0)]}else{i="string"==typeof e.yAxis&&r.getIndexByName?r.getIndexByName(e.yAxis):e.yAxis||0;var l=n[i];l=null!=l?l:"string"!=typeof e.yAxis&&r.getCoordByIndex?r.getCoordByIndex(e.yAxis||0):r.getCoord(e.yAxis||0),a=[o.getCoord(e.xAxis||0),l]}else{var p=null!=e.valueIndex?e.valueIndex:null!=n.maxX0?"1":"";a=[n[e.type+"X"+p],n[e.type+"Y"+p],n[e.type+"Line"+p],n[e.type+p]]}return a},refresh:function(t){t&&(this.option=t,this.series=t.series),this.backupShapeList(),this._buildShape()},addDataAnimation:function(t,e){function i(){_--,0===_&&e&&e()}for(var a=this.series,s={},n=0,r=t.length;r>n;n++)s[t[n][0]]=t[n];for(var h,l,p,c,d,u,g,_=0,n=this.shapeList.length-1;n>=0;n--)if(u=o.get(this.shapeList[n],"seriesIndex"),s[u]&&!s[u][3]&&"rectangle"===this.shapeList[n].type){if(g=o.get(this.shapeList[n],"dataIndex"),d=a[u],s[u][2]&&g===d.data.length-1){this.zr.delShape(this.shapeList[n].id);continue}if(!s[u][2]&&0===g){this.zr.delShape(this.shapeList[n].id);continue}"horizontal"===this.shapeList[n]._orient?(c=this.component.yAxis.getAxis(d.yAxisIndex||0).getGap(),p=s[u][2]?-c:c,h=0):(l=this.component.xAxis.getAxis(d.xAxisIndex||0).getGap(),h=s[u][2]?l:-l,p=0),this.shapeList[n].position=[0,0],_++,this.zr.animate(this.shapeList[n].id,"").when(this.query(this.option,"animationDurationUpdate"),{position:[h,p]}).done(i).start()}_||e&&e()}},r.inherits(e,a),i(691).define("bar",e),e}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},724:function(t,e,i){var a;a=function(t){function e(t,e,i,s,n){a.call(this,t,e,i,s,n);var o=this;o.shapeHandler.onmouseover=function(t){var e=t.target,i=p.get(e,"seriesIndex"),a=p.get(e,"dataIndex"),s=p.get(e,"special"),n=[e.style.x,e.style.y],r=e.style.startAngle,h=e.style.endAngle,l=((h+r)/2+360)%360,c=e.highlightStyle.color,d=o.getLabel(i,a,s,n,l,c,!0);d&&o.zr.addHoverShape(d);var u=o.getLabelLine(i,a,n,e.style.r0,e.style.r,l,c,!0);u&&o.zr.addHoverShape(u)},this.refresh(s)}var a=i(662),s=i(647),n=i(708),o=i(683),r=i(699),h=i(678),l=i(632);l.pie={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,center:["50%","50%"],radius:[0,"75%"],clockWise:!0,startAngle:90,minAngle:0,selectedOffset:10,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!1},labelLine:{show:!1,length:20,lineStyle:{width:1,type:"solid"}}}}};var p=i(680),c=i(633),d=i(665),u=i(652);return e.prototype={type:l.CHART_TYPE_PIE,_buildShape:function(){var t=this.series,e=this.component.legend;this.selectedMap={},this._selected={};var i,a,s;this._selectedMode=!1;for(var r,h=0,c=t.length;c>h;h++)if(t[h].type===l.CHART_TYPE_PIE){if(t[h]=this.reformOption(t[h]),this.legendHoverLink=t[h].legendHoverLink||this.legendHoverLink,r=t[h].name||"",this.selectedMap[r]=e?e.isSelected(r):!0,!this.selectedMap[r])continue;i=this.parseCenter(this.zr,t[h].center),a=this.parseRadius(this.zr,t[h].radius),this._selectedMode=this._selectedMode||t[h].selectedMode,this._selected[h]=[],this.deepQuery([t[h],this.option],"calculable")&&(s={zlevel:t[h].zlevel,z:t[h].z,hoverable:!1,style:{x:i[0],y:i[1],r0:a[0]<=10?0:a[0]-10,r:a[1]+10,brushType:"stroke",lineWidth:1,strokeColor:t[h].calculableHolderColor||this.ecTheme.calculableHolderColor||l.calculableHolderColor}},p.pack(s,t[h],h,void 0,-1),this.setCalculable(s),s=a[0]<=10?new o(s):new n(s),this.shapeList.push(s)),this._buildSinglePie(h),this.buildMark(h)}this.addShapeList()},_buildSinglePie:function(t){for(var e,i=this.series,a=i[t],s=a.data,n=this.component.legend,o=0,r=0,h=0,l=Number.NEGATIVE_INFINITY,p=[],c=0,d=s.length;d>c;c++)e=s[c].name,this.selectedMap[e]=n?n.isSelected(e):!0,this.selectedMap[e]&&!isNaN(s[c].value)&&(0!==+s[c].value?o++:r++,h+=+s[c].value,l=Math.max(l,+s[c].value));if(0!==h){for(var u,g,_,f,m,y,x=100,v=a.clockWise,b=(a.startAngle.toFixed(2)-0+360)%360,M=a.minAngle||.01,S=360-M*o-.01*r,L=a.roseType,c=0,d=s.length;d>c;c++)if(e=s[c].name,this.selectedMap[e]&&!isNaN(s[c].value)){if(g=n?n.getColor(e):this.zr.getColor(c),x=s[c].value/h,u="area"!=L?v?b-x*S-(0!==x?M:.01):x*S+b+(0!==x?M:.01):v?b-360/d:360/d+b,u=u.toFixed(2)-0,x=(100*x).toFixed(2),_=this.parseCenter(this.zr,a.center),f=this.parseRadius(this.zr,a.radius),m=+f[0],y=+f[1],"radius"===L?y=s[c].value/l*(y-m)*.8+.2*(y-m)+m:"area"===L&&(y=Math.sqrt(s[c].value/l)*(y-m)+m),v){var C;C=b,b=u,u=C}this._buildItem(p,t,c,x,s[c].selected,_,m,y,b,u,g),v||(b=u)}this._autoLabelLayout(p,_,y);for(var c=0,d=p.length;d>c;c++)this.shapeList.push(p[c]);p=null}},_buildItem:function(t,e,i,a,s,n,o,r,h,l,c){var d=this.series,u=((l+h)/2+360)%360,g=this.getSector(e,i,a,s,n,o,r,h,l,c);p.pack(g,d[e],e,d[e].data[i],i,d[e].data[i].name,a),t.push(g);var _=this.getLabel(e,i,a,n,u,c,!1),f=this.getLabelLine(e,i,n,o,r,u,c,!1);f&&(p.pack(f,d[e],e,d[e].data[i],i,d[e].data[i].name,a),t.push(f)),_&&(p.pack(_,d[e],e,d[e].data[i],i,d[e].data[i].name,a),_._labelLine=f,t.push(_))},getSector:function(t,e,i,a,s,n,o,h,l,p){var c=this.series,g=c[t],_=g.data[e],f=[_,g],m=this.deepMerge(f,"itemStyle.normal")||{},y=this.deepMerge(f,"itemStyle.emphasis")||{},x=this.getItemStyleColor(m.color,t,e,_)||p,v=this.getItemStyleColor(y.color,t,e,_)||("string"==typeof x?u.lift(x,-.2):x),b={zlevel:g.zlevel,z:g.z,clickable:this.deepQuery(f,"clickable"),style:{x:s[0],y:s[1],r0:n,r:o,startAngle:h,endAngle:l,brushType:"both",color:x,lineWidth:m.borderWidth,strokeColor:m.borderColor,lineJoin:"round"},highlightStyle:{color:v,lineWidth:y.borderWidth,strokeColor:y.borderColor,lineJoin:"round"},_seriesIndex:t,_dataIndex:e};if(a){var M=((b.style.startAngle+b.style.endAngle)/2).toFixed(2)-0;b.style._hasSelected=!0,b.style._x=b.style.x,b.style._y=b.style.y;var S=this.query(g,"selectedOffset");b.style.x+=d.cos(M,!0)*S,b.style.y-=d.sin(M,!0)*S,this._selected[t][e]=!0}else this._selected[t][e]=!1;return this._selectedMode&&(b.onclick=this.shapeHandler.onclick),this.deepQuery([_,g,this.option],"calculable")&&(this.setCalculable(b),b.draggable=!0),(this._needLabel(g,_,!0)||this._needLabelLine(g,_,!0))&&(b.onmouseover=this.shapeHandler.onmouseover),b=new r(b)},getLabel:function(t,e,i,a,n,o,r){var h=this.series,l=h[t],p=l.data[e];if(this._needLabel(l,p,r)){var u,g,_,f=r?"emphasis":"normal",m=c.merge(c.clone(p.itemStyle)||{},l.itemStyle),y=m[f].label,x=y.textStyle||{},v=a[0],b=a[1],M=this.parseRadius(this.zr,l.radius),S="middle";y.position=y.position||m.normal.label.position,"center"===y.position?(u=v,g=b,_="center"):"inner"===y.position||"inside"===y.position?(M=(M[0]+M[1])*(y.distance||.5),u=Math.round(v+M*d.cos(n,!0)),g=Math.round(b-M*d.sin(n,!0)),o="#fff",_="center"):(M=M[1]- -m[f].labelLine.length,u=Math.round(v+M*d.cos(n,!0)),g=Math.round(b-M*d.sin(n,!0)),_=n>=90&&270>=n?"right":"left"),"center"!=y.position&&"inner"!=y.position&&"inside"!=y.position&&(u+="left"===_?20:-20),p.__labelX=u-("left"===_?5:-5),p.__labelY=g;var L=new s({zlevel:l.zlevel,z:l.z+1,hoverable:!1,style:{x:u,y:g,color:x.color||o,text:this.getLabelText(t,e,i,f),textAlign:x.align||_,textBaseline:x.baseline||S,textFont:this.getFont(x)},highlightStyle:{brushType:"fill"}});return L._radius=M,L._labelPosition=y.position||"outer",L._rect=L.getRect(L.style),L._seriesIndex=t,L._dataIndex=e,L}},getLabelText:function(t,e,i,a){var s=this.series,n=s[t],o=n.data[e],r=this.deepQuery([o,n],"itemStyle."+a+".label.formatter");return r?"function"==typeof r?r.call(this.myChart,{seriesIndex:t,seriesName:n.name||"",series:n,dataIndex:e,data:o,name:o.name,value:o.value,percent:i}):"string"==typeof r?(r=r.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}"),r=r.replace("{a0}",n.name).replace("{b0}",o.name).replace("{c0}",o.value).replace("{d0}",i)):void 0:o.name},getLabelLine:function(t,e,i,a,s,n,o,r){var l=this.series,p=l[t],u=p.data[e];if(this._needLabelLine(p,u,r)){var g=r?"emphasis":"normal",_=c.merge(c.clone(u.itemStyle)||{},p.itemStyle),f=_[g].labelLine,m=f.lineStyle||{},y=i[0],x=i[1],v=s,b=this.parseRadius(this.zr,p.radius)[1]- -f.length,M=d.cos(n,!0),S=d.sin(n,!0);return new h({zlevel:p.zlevel,z:p.z+1,hoverable:!1,style:{pointList:[[y+v*M,x-v*S],[y+b*M,x-b*S],[u.__labelX,u.__labelY]],strokeColor:m.color||o,lineType:m.type,lineWidth:m.width},_seriesIndex:t,_dataIndex:e})}},_needLabel:function(t,e,i){return this.deepQuery([e,t],"itemStyle."+(i?"emphasis":"normal")+".label.show")},_needLabelLine:function(t,e,i){return this.deepQuery([e,t],"itemStyle."+(i?"emphasis":"normal")+".labelLine.show")},_autoLabelLayout:function(t,e,i){for(var a=[],s=[],n=0,o=t.length;o>n;n++)("outer"===t[n]._labelPosition||"outside"===t[n]._labelPosition)&&(t[n]._rect._y=t[n]._rect.y,t[n]._rect.x<e[0]?a.push(t[n]):s.push(t[n]));this._layoutCalculate(a,e,i,-1),this._layoutCalculate(s,e,i,1)},_layoutCalculate:function(t,e,i,a){function s(e,i,a,s){for(var o=e;i>o;o++)if(t[o]._rect.y+=a,t[o].style.y+=a,t[o]._labelLine&&(t[o]._labelLine.style.pointList[1][1]+=a,t[o]._labelLine.style.pointList[2][1]+=a),o>e&&i>o+1&&t[o+1]._rect.y>t[o]._rect.y+t[o]._rect.height)return void n(o,a/2);n(i-1,a/2)}function n(e,i){for(var a=e;a>=0&&(t[a]._rect.y-=i,t[a].style.y-=i,t[a]._labelLine&&(t[a]._labelLine.style.pointList[1][1]-=i,t[a]._labelLine.style.pointList[2][1]-=i),!(a>0&&t[a]._rect.y>t[a-1]._rect.y+t[a-1]._rect.height));a--);}function o(t,e,i,a,s){for(var n,o,r,h=i[0],l=i[1],p=s>0?e?Number.MAX_VALUE:0:e?Number.MAX_VALUE:0,c=0,d=t.length;d>c;c++)o=Math.abs(t[c]._rect.y-l),r=t[c]._radius-a,n=a+r>o?Math.sqrt((a+r+20)*(a+r+20)-Math.pow(t[c]._rect.y-l,2)):Math.abs(t[c]._rect.x+(s>0?0:t[c]._rect.width)-h),e&&n>=p&&(n=p-10),!e&&p>=n&&(n=p+10),t[c]._rect.x=t[c].style.x=h+n*s,t[c]._labelLine&&(t[c]._labelLine.style.pointList[2][0]=h+(n-5)*s,t[c]._labelLine.style.pointList[1][0]=h+(n-20)*s),p=n}t.sort(function(t,e){return t._rect.y-e._rect.y});for(var r,h=0,l=t.length,p=[],c=[],d=0;l>d;d++)r=t[d]._rect.y-h,0>r&&s(d,l,-r,a),h=t[d]._rect.y+t[d]._rect.height;this.zr.getHeight()-h<0&&n(l-1,h-this.zr.getHeight());for(var d=0;l>d;d++)t[d]._rect.y>=e[1]?c.push(t[d]):p.push(t[d]);o(c,!0,e,i,a),o(p,!1,e,i,a)},reformOption:function(t){var e=c.merge;return t=e(e(t||{},c.clone(this.ecTheme.pie||{})),c.clone(l.pie)),t.itemStyle.normal.label.textStyle=this.getTextStyle(t.itemStyle.normal.label.textStyle),t.itemStyle.emphasis.label.textStyle=this.getTextStyle(t.itemStyle.emphasis.label.textStyle),this.z=t.z,this.zlevel=t.zlevel,t},refresh:function(t){t&&(this.option=t,this.series=t.series),this.backupShapeList(),this._buildShape()},addDataAnimation:function(t,e){function i(){r--,0===r&&e&&e()}for(var a=this.series,s={},n=0,o=t.length;o>n;n++)s[t[n][0]]=t[n];var r=0,h={},p={},c={},d=this.shapeList;this.shapeList=[];for(var u,g,_,f={},n=0,o=t.length;o>n;n++)u=t[n][0],g=t[n][2],_=t[n][3],a[u]&&a[u].type===l.CHART_TYPE_PIE&&(g?(_||(h[u+"_"+a[u].data.length]="delete"),f[u]=1):_?f[u]=0:(h[u+"_-1"]="delete",f[u]=-1),this._buildSinglePie(u));for(var m,y,n=0,o=this.shapeList.length;o>n;n++)switch(u=this.shapeList[n]._seriesIndex,m=this.shapeList[n]._dataIndex,y=u+"_"+m,this.shapeList[n].type){case"sector":h[y]=this.shapeList[n];break;case"text":p[y]=this.shapeList[n];break;case"polyline":c[y]=this.shapeList[n]}this.shapeList=[];for(var x,n=0,o=d.length;o>n;n++)if(u=d[n]._seriesIndex,s[u]){if(m=d[n]._dataIndex+f[u],y=u+"_"+m,x=h[y],!x)continue;if("sector"===d[n].type)"delete"!=x?(r++,this.zr.animate(d[n].id,"style").when(400,{startAngle:x.style.startAngle,endAngle:x.style.endAngle}).done(i).start()):(r++,this.zr.animate(d[n].id,"style").when(400,f[u]<0?{startAngle:d[n].style.startAngle}:{endAngle:d[n].style.endAngle}).done(i).start());else if("text"===d[n].type||"polyline"===d[n].type)if("delete"===x)this.zr.delShape(d[n].id);else switch(d[n].type){case"text":r++,x=p[y],this.zr.animate(d[n].id,"style").when(400,{x:x.style.x,y:x.style.y}).done(i).start();break;case"polyline":r++,x=c[y],this.zr.animate(d[n].id,"style").when(400,{pointList:x.style.pointList}).done(i).start()}}this.shapeList=d,r||e&&e()},onclick:function(t){var e=this.series;if(this.isClick&&t.target){this.isClick=!1;for(var i,a=t.target,s=a.style,n=p.get(a,"seriesIndex"),o=p.get(a,"dataIndex"),r=0,h=this.shapeList.length;h>r;r++)if(this.shapeList[r].id===a.id){if(n=p.get(a,"seriesIndex"),o=p.get(a,"dataIndex"),s._hasSelected)a.style.x=a.style._x,a.style.y=a.style._y,a.style._hasSelected=!1,this._selected[n][o]=!1;else{var c=((s.startAngle+s.endAngle)/2).toFixed(2)-0;a.style._hasSelected=!0,this._selected[n][o]=!0,a.style._x=a.style.x,a.style._y=a.style.y,i=this.query(e[n],"selectedOffset"),a.style.x+=d.cos(c,!0)*i,a.style.y-=d.sin(c,!0)*i}this.zr.modShape(a.id)}else this.shapeList[r].style._hasSelected&&"single"===this._selectedMode&&(n=p.get(this.shapeList[r],"seriesIndex"),o=p.get(this.shapeList[r],"dataIndex"),this.shapeList[r].style.x=this.shapeList[r].style._x,this.shapeList[r].style.y=this.shapeList[r].style._y,this.shapeList[r].style._hasSelected=!1,this._selected[n][o]=!1,this.zr.modShape(this.shapeList[r].id));this.messageCenter.dispatch(l.EVENT.PIE_SELECTED,t.event,{selected:this._selected,target:p.get(a,"name")},this.myChart),this.zr.refreshNextFrame()}}},c.inherits(e,a),i(691).define("pie",e),e}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},725:function(t,e,i){var a;a=function(t){function e(t,e,i,s,n){a.call(this,t,e,i,s,n);var o=this;o._onmousewheel=function(t){return o.__onmousewheel(t)},o._onmousedown=function(t){return o.__onmousedown(t)},o._onmousemove=function(t){return o.__onmousemove(t)},o._onmouseup=function(t){return o.__onmouseup(t)},o._onroamcontroller=function(t){return o.__onroamcontroller(t)},o._ondrhoverlink=function(t){return o.__ondrhoverlink(t)},this._isAlive=!0,this._selectedMode={},this._activeMapType={},this._clickable={},this._hoverable={},this._showLegendSymbol={},this._selected={},this._mapTypeMap={},this._mapDataMap={},this._nameMap={},this._specialArea={},this._refreshDelayTicket,this._mapDataRequireCounter,this._markAnimation=!1,this._hoverLinkMap={},this._roamMap={},this._scaleLimitMap={},this._mx,this._my,this._mousedown,this._justMove,this._curMapType,this.refresh(s),this.zr.on(f.EVENT.MOUSEWHEEL,this._onmousewheel),this.zr.on(f.EVENT.MOUSEDOWN,this._onmousedown),e.bind(u.EVENT.ROAMCONTROLLER,this._onroamcontroller),e.bind(u.EVENT.DATA_RANGE_HOVERLINK,this._ondrhoverlink)}var a=i(662),s=i(647),n=i(726),o=i(683),r=i(653),h=i(670),l=i(674),p=i(727),c=i(655);i(728),i(730);var d=i(731),u=i(632);u.map={zlevel:0,z:2,mapType:"china",showLegendSymbol:!0,dataRangeHoverLink:!0,hoverable:!0,clickable:!0,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,areaStyle:{color:"#ccc"},label:{show:!1,textStyle:{color:"rgb(139,69,19)"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,areaStyle:{color:"rgba(255,215,0,0.8)"},label:{show:!1,textStyle:{color:"rgb(100,0,0)"}}}}};var g=i(680),_=i(633),f=i(640),m=i(635),y=i(732).params,x=i(769),v=i(770);return e.prototype={type:u.CHART_TYPE_MAP,_buildShape:function(){var t=this.series;this.selectedMap={},this._activeMapType={};for(var e,i,a,s,n=this.component.legend,o={},r={},h={},l={},p=0,c=t.length;c>p;p++)if(t[p].type==u.CHART_TYPE_MAP&&(t[p]=this.reformOption(t[p]),i=t[p].mapType,r[i]=r[i]||{},r[i][p]=!0,h[i]=h[i]||t[p].mapValuePrecision,this._scaleLimitMap[i]=this._scaleLimitMap[i]||{},t[p].scaleLimit&&_.merge(this._scaleLimitMap[i],t[p].scaleLimit,!0),this._roamMap[i]=t[p].roam||this._roamMap[i],(null==this._hoverLinkMap[i]||this._hoverLinkMap[i])&&(this._hoverLinkMap[i]=t[p].dataRangeHoverLink),this._nameMap[i]=this._nameMap[i]||{},t[p].nameMap&&_.merge(this._nameMap[i],t[p].nameMap,!0),this._activeMapType[i]=!0,t[p].textFixed&&_.merge(x,t[p].textFixed,!0),t[p].geoCoord&&_.merge(v,t[p].geoCoord,!0),this._selectedMode[i]=this._selectedMode[i]||t[p].selectedMode,(null==this._hoverable[i]||this._hoverable[i])&&(this._hoverable[i]=t[p].hoverable),(null==this._clickable[i]||this._clickable[i])&&(this._clickable[i]=t[p].clickable),(null==this._showLegendSymbol[i]||this._showLegendSymbol[i])&&(this._showLegendSymbol[i]=t[p].showLegendSymbol),l[i]=l[i]||t[p].mapValueCalculation,e=t[p].name,this.selectedMap[e]=n?n.isSelected(e):!0,this.selectedMap[e])){o[i]=o[i]||{},a=t[p].data;for(var d=0,g=a.length;g>d;d++){s=this._nameChange(i,a[d].name),o[i][s]=o[i][s]||{seriesIndex:[],valueMap:{},precision:0};for(var f in a[d])"value"!=f?o[i][s][f]=a[d][f]:isNaN(a[d].value)||(null==o[i][s].value&&(o[i][s].value=0),o[i][s].precision=Math.max(this.getPrecision(+a[d].value),o[i][s].precision),o[i][s].value+=+a[d].value,o[i][s].valueMap[p]=+a[d].value);o[i][s].seriesIndex.push(p)}}this._mapDataRequireCounter=0;for(var m in o)this._mapDataRequireCounter++;this._clearSelected(),0===this._mapDataRequireCounter&&(this.clear(),this.zr&&this.zr.delShape(this.lastShapeList),this.lastShapeList=[]);for(var m in o){for(var g in o[m]){"average"==l[m]&&(o[m][g].value/=o[m][g].seriesIndex.length);var b=o[m][g].value;null!=b&&(o[m][g].value=b.toFixed(null==h[m]?o[m][g].precision:h[m])-0)}this._mapDataMap[m]=this._mapDataMap[m]||{},this._mapDataMap[m].mapData?this._mapDataCallback(m,o[m],r[m])(this._mapDataMap[m].mapData):y[m.replace(/\|.*/,"")].getGeoJson&&(this._specialArea[m]=y[m.replace(/\|.*/,"")].specialArea||this._specialArea[m],y[m.replace(/\|.*/,"")].getGeoJson(this._mapDataCallback(m,o[m],r[m])))}},_mapDataCallback:function(t,e,a){var s=this;return function(n){s._isAlive&&null!=s._activeMapType[t]&&(-1!=t.indexOf("|")&&(n=s._getSubMapData(t,n)),s._mapDataMap[t].mapData=n,n.firstChild?(s._mapDataMap[t].rate=1,s._mapDataMap[t].projection=i(771)):(s._mapDataMap[t].rate=.75,s._mapDataMap[t].projection=i(772)),s._buildMap(t,s._getProjectionData(t,n,a),e,a),s._buildMark(t,a),--s._mapDataRequireCounter<=0&&(s.addShapeList(),s.zr.refreshNextFrame()),s._buildHeatmap(t))}},_clearSelected:function(){for(var t in this._selected)this._activeMapType[this._mapTypeMap[t]]||(delete this._selected[t],delete this._mapTypeMap[t])},_getSubMapData:function(t,e){for(var i=t.replace(/^.*\|/,""),a=e.features,s=0,n=a.length;n>s;s++)if(a[s].properties&&a[s].properties.name==i){a=a[s],"United States of America"==i&&a.geometry.coordinates.length>1&&(a={geometry:{coordinates:a.geometry.coordinates.slice(5,6),type:a.geometry.type},id:a.id,properties:a.properties,type:a.type});break}return{type:"FeatureCollection",features:[a]}},_getProjectionData:function(t,e,i){var a,s=this._mapDataMap[t].projection,n=[],o=this._mapDataMap[t].bbox||s.getBbox(e,this._specialArea[t]);a=this._mapDataMap[t].hasRoam?this._mapDataMap[t].transform:this._getTransform(o,i,this._mapDataMap[t].rate);var r,h=this._mapDataMap[t].lastTransform||{scale:{}};a.left!=h.left||a.top!=h.top||a.scale.x!=h.scale.x||a.scale.y!=h.scale.y?(r=s.geoJson2Path(e,a,this._specialArea[t]),h=_.clone(a)):(a=this._mapDataMap[t].transform,r=this._mapDataMap[t].pathArray),this._mapDataMap[t].bbox=o,this._mapDataMap[t].transform=a,this._mapDataMap[t].lastTransform=h,this._mapDataMap[t].pathArray=r;for(var l=[a.left,a.top],p=0,c=r.length;c>p;p++)n.push(this._getSingleProvince(t,r[p],l));if(this._specialArea[t])for(var d in this._specialArea[t])n.push(this._getSpecialProjectionData(t,e,d,this._specialArea[t][d],l));if("china"==t){var u=this.geo2pos(t,v["南海诸岛"]||y["南海诸岛"].textCoord),g=a.scale.x/10.5,f=[32*g+u[0],83*g+u[1]];x["南海诸岛"]&&(f[0]+=x["南海诸岛"][0],f[1]+=x["南海诸岛"][1]),n.push({name:this._nameChange(t,"南海诸岛"),path:y["南海诸岛"].getPath(u,g),position:l,textX:f[0],textY:f[1]})}return n},_getSpecialProjectionData:function(t,e,a,s,n){e=this._getSubMapData("x|"+a,e);var o=i(772),r=o.getBbox(e),h=this.geo2pos(t,[s.left,s.top]),l=this.geo2pos(t,[s.left+s.width,s.top+s.height]),p=Math.abs(l[0]-h[0]),c=Math.abs(l[1]-h[1]),d=r.width,u=r.height,g=p/.75/d,_=c/u;g>_?(g=.75*_,p=d*g):(_=g,g=.75*_,c=u*_);var f={OffsetLeft:h[0],OffsetTop:h[1],scale:{x:g,y:_}},m=o.geoJson2Path(e,f);return this._getSingleProvince(t,m[0],n)},_getSingleProvince:function(t,e,i){var a,s=e.properties.name,n=x[s]||[0,0];if(v[s])a=this.geo2pos(t,v[s]);else if(e.cp)a=[e.cp[0]+n[0],e.cp[1]+n[1]];else{var o=this._mapDataMap[t].bbox;a=this.geo2pos(t,[o.left+o.width/2,o.top+o.height/2]),a[0]+=n[0],a[1]+=n[1]}return e.name=this._nameChange(t,s),e.position=i,e.textX=a[0],e.textY=a[1],e},_getTransform:function(t,e,i){var a,s,n,o,r,h,l,p=this.series,c=this.zr.getWidth(),d=this.zr.getHeight(),u=Math.round(.02*Math.min(c,d));for(var g in e)a=p[g].mapLocation||{},n=a.x||n,r=a.y||r,h=a.width||h,l=a.height||l;s=this.parsePercent(n,c),s=isNaN(s)?u:s,o=this.parsePercent(r,d),o=isNaN(o)?u:o,h=null==h?c-s-2*u:this.parsePercent(h,c),l=null==l?d-o-2*u:this.parsePercent(l,d);var _=t.width,f=t.height,m=h/i/_,y=l/f;if(m>y?(m=y*i,h=_*m):(y=m,m=y*i,l=f*y),isNaN(n))switch(n=n||"center",n+""){case"center":s=Math.floor((c-h)/2);break;case"right":s=c-h}if(isNaN(r))switch(r=r||"center",r+""){case"center":o=Math.floor((d-l)/2);break;case"bottom":o=d-l}return{left:s,top:o,width:h,height:l,baseScale:1,scale:{x:m,y:y}}},_buildMap:function(t,e,i,a){for(var c,d,f,m,y,x,v,b,M,S,L,C=this.series,O=this.component.legend,R=this.component.dataRange,T=0,A=e.length;A>T;T++){if(b=_.clone(e[T]),M={name:b.name,path:b.path,position:_.clone(b.position)},d=b.name,f=i[d]){y=[f],c="";for(var k=0,w=f.seriesIndex.length;w>k;k++){var z=C[f.seriesIndex[k]];y.push(z),c+=z.name+" ",O&&this._showLegendSymbol[t]&&O.hasColor(z.name)&&this.shapeList.push(new o({zlevel:z.zlevel,z:z.z+1,position:_.clone(b.position),_mapType:t,style:{x:b.textX+3+7*k,y:b.textY-10,r:3,color:O.getColor(z.name)},hoverable:!1}))}m=f.value}else{f={name:d,value:"-"},c="",y=[];for(var E in a)y.push(C[E]);m="-"}switch(this.ecTheme.map&&y.push(this.ecTheme.map),y.push(u.map),x=R&&!isNaN(m)?R.getColor(m):null,b.color=b.color||x||this.getItemStyleColor(this.deepQuery(y,"itemStyle.normal.color"),f.seriesIndex,-1,f)||this.deepQuery(y,"itemStyle.normal.areaStyle.color"),b.strokeColor=b.strokeColor||this.deepQuery(y,"itemStyle.normal.borderColor"),b.lineWidth=b.lineWidth||this.deepQuery(y,"itemStyle.normal.borderWidth"),M.color=this.getItemStyleColor(this.deepQuery(y,"itemStyle.emphasis.color"),f.seriesIndex,-1,f)||this.deepQuery(y,"itemStyle.emphasis.areaStyle.color")||b.color,M.strokeColor=this.deepQuery(y,"itemStyle.emphasis.borderColor")||b.strokeColor,M.lineWidth=this.deepQuery(y,"itemStyle.emphasis.borderWidth")||b.lineWidth,
b.brushType=M.brushType=b.brushType||"both",b.lineJoin=M.lineJoin="round",b._name=M._name=d,v=this.deepQuery(y,"itemStyle.normal.label.textStyle"),L={zlevel:this.getZlevelBase(),z:this.getZBase()+1,position:_.clone(b.position),_mapType:t,_geo:this.pos2geo(t,[b.textX,b.textY]),style:{brushType:"fill",x:b.textX,y:b.textY,text:this.getLabelText(d,m,y,"normal"),_name:d,textAlign:"center",color:this.deepQuery(y,"itemStyle.normal.label.show")?this.deepQuery(y,"itemStyle.normal.label.textStyle.color"):"rgba(0,0,0,0)",textFont:this.getFont(v)}},L._style=_.clone(L.style),L.highlightStyle=_.clone(L.style),this.deepQuery(y,"itemStyle.emphasis.label.show")?(L.highlightStyle.text=this.getLabelText(d,m,y,"emphasis"),L.highlightStyle.color=this.deepQuery(y,"itemStyle.emphasis.label.textStyle.color")||L.style.color,v=this.deepQuery(y,"itemStyle.emphasis.label.textStyle")||v,L.highlightStyle.textFont=this.getFont(v)):L.highlightStyle.color="rgba(0,0,0,0)",S={zlevel:this.getZlevelBase(),z:this.getZBase(),position:_.clone(b.position),style:b,highlightStyle:M,_style:_.clone(b),_mapType:t},null!=b.scale&&(S.scale=_.clone(b.scale)),L=new s(L),S.style.shapeType){case"rectangle":S=new r(S);break;case"line":S=new h(S);break;case"circle":S=new o(S);break;case"polygon":S=new l(S);break;case"ellipse":S=new p(S);break;default:S=new n(S),S.buildPathArray&&(S.style.pathArray=S.buildPathArray(S.style.path))}(this._selectedMode[t]&&this._selected[d]&&f.selected!==!1||f.selected===!0)&&(L.style=L.highlightStyle,S.style=S.highlightStyle),L.clickable=S.clickable=this._clickable[t]&&(null==f.clickable||f.clickable),this._selectedMode[t]&&(this._selected[d]=null!=this._selected[d]?this._selected[d]:f.selected,this._mapTypeMap[d]=t,(null==f.selectable||f.selectable)&&(S.clickable=L.clickable=!0,S.onclick=L.onclick=this.shapeHandler.onclick)),this._hoverable[t]&&(null==f.hoverable||f.hoverable)?(L.hoverable=S.hoverable=!0,S.hoverConnect=L.id,L.hoverConnect=S.id):L.hoverable=S.hoverable=!1,g.pack(L,{name:c,tooltip:this.deepQuery(y,"tooltip")},0,f,0,d),this.shapeList.push(L),g.pack(S,{name:c,tooltip:this.deepQuery(y,"tooltip")},0,f,0,d),this.shapeList.push(S)}},_buildMark:function(t,e){this._seriesIndexToMapType=this._seriesIndexToMapType||{},this.markAttachStyle=this.markAttachStyle||{};var i=[this._mapDataMap[t].transform.left,this._mapDataMap[t].transform.top];"none"==t&&(i=[0,0]);for(var a in e)this._seriesIndexToMapType[a]=t,this.markAttachStyle[a]={position:i,_mapType:t},this.buildMark(a)},_buildHeatmap:function(t){for(var e=this.series,i=0,a=e.length;a>i;i++)if(e[i].heatmap){var s=e[i].heatmap.data;if(e[i].heatmap.needsTransform===!1){for(var n=[],o=0,r=s.length;r>o;++o)n.push([s[o][3],s[o][4],s[o][2]]);var h=[0,0]}else{var l=e[i].heatmap._geoData;if(void 0===l){e[i].heatmap._geoData=[];for(var o=0,r=s.length;r>o;++o)e[i].heatmap._geoData[o]=s[o];l=e[i].heatmap._geoData}for(var r=s.length,p=0;r>p;++p)s[p]=this.geo2pos(t,[l[p][0],l[p][1]]);var h=[this._mapDataMap[t].transform.left,this._mapDataMap[t].transform.top]}var u=new d(e[i].heatmap),g=u.getCanvas(s[0][3]?n:s,this.zr.getWidth(),this.zr.getHeight()),_=new c({zlevel:this.getZlevelBase(),z:this.getZBase()+1,position:h,scale:[1,1],hoverable:!1,style:{x:0,y:0,image:g,width:g.width,height:g.height}});_.type="heatmap",_._mapType=t,this.shapeList.push(_),this.zr.addShape(_)}},getMarkCoord:function(t,e){return e.geoCoord||v[e.name]?this.geo2pos(this._seriesIndexToMapType[t],e.geoCoord||v[e.name]):[0,0]},getMarkGeo:function(t){return t.geoCoord||v[t.name]},_nameChange:function(t,e){return this._nameMap[t][e]||e},getLabelText:function(t,e,i,a){var s=this.deepQuery(i,"itemStyle."+a+".label.formatter");return s?"function"==typeof s?s.call(this.myChart,t,e):"string"==typeof s?(s=s.replace("{a}","{a0}").replace("{b}","{b0}"),s=s.replace("{a0}",t).replace("{b0}",e)):void 0:t},_findMapTypeByPos:function(t,e){var i,a,s,n,o;for(var r in this._mapDataMap)if(i=this._mapDataMap[r].transform,i&&this._roamMap[r]&&this._activeMapType[r]&&(a=i.left,s=i.top,n=i.width,o=i.height,t>=a&&a+n>=t&&e>=s&&s+o>=e))return r},__onmousewheel:function(t){function e(t,e){for(var i=0;i<t.pointList.length;i++){var a=t.pointList[i];a[0]*=e,a[1]*=e}var s=t.controlPointList;if(s)for(var i=0;i<s.length;i++){var a=s[i];a[0]*=e,a[1]*=e}}function i(t,e){t.xStart*=e,t.yStart*=e,t.xEnd*=e,t.yEnd*=e,null!=t.cpX1&&(t.cpX1*=e,t.cpY1*=e)}if(!(this.shapeList.length<=0)){for(var a=0,s=this.shapeList.length;s>a;a++){var n=this.shapeList[a];if(n.__animating)return}var o,r,h=t.event,l=m.getX(h),p=m.getY(h),c=m.getDelta(h),d=t.mapTypeControl;d||(d={},r=this._findMapTypeByPos(l,p),r&&this._roamMap[r]&&"move"!=this._roamMap[r]&&(d[r]=!0));var g=!1;for(r in d)if(d[r]){g=!0;var _=this._mapDataMap[r].transform,f=_.left,y=_.top,x=_.width,v=_.height,b=this.pos2geo(r,[l-f,p-y]);if(c>0){if(o=1.2,null!=this._scaleLimitMap[r].max&&_.baseScale>=this._scaleLimitMap[r].max)continue}else if(o=1/1.2,null!=this._scaleLimitMap[r].min&&_.baseScale<=this._scaleLimitMap[r].min)continue;_.baseScale*=o,_.scale.x*=o,_.scale.y*=o,_.width=x*o,_.height=v*o,this._mapDataMap[r].hasRoam=!0,this._mapDataMap[r].transform=_,b=this.geo2pos(r,b),_.left-=b[0]-(l-f),_.top-=b[1]-(p-y),this._mapDataMap[r].transform=_,this.clearEffectShape(!0);for(var a=0,s=this.shapeList.length;s>a;a++){var n=this.shapeList[a];if(n._mapType==r){var M=n.type,S=n.style;switch(n.position[0]=_.left,n.position[1]=_.top,M){case"path":case"symbol":case"circle":case"rectangle":case"polygon":case"line":case"ellipse":case"heatmap":n.scale[0]*=o,n.scale[1]*=o;break;case"mark-line":i(S,o);break;case"polyline":e(S,o);break;case"shape-bundle":for(var L=0;L<S.shapeList.length;L++){var C=S.shapeList[L];"mark-line"==C.type?i(C.style,o):"polyline"==C.type&&e(C.style,o)}break;case"icon":case"image":b=this.geo2pos(r,n._geo),S.x=S._x=b[0]-S.width/2,S.y=S._y=b[1]-S.height/2;break;default:b=this.geo2pos(r,n._geo),S.x=b[0],S.y=b[1],"text"==M&&(n._style.x=n.highlightStyle.x=b[0],n._style.y=n.highlightStyle.y=b[1])}this.zr.modShape(n.id)}}}if(g){m.stop(h),this.zr.refreshNextFrame();var O=this;clearTimeout(this._refreshDelayTicket),this._refreshDelayTicket=setTimeout(function(){O&&O.shapeList&&O.animationEffect()},100),this.messageCenter.dispatch(u.EVENT.MAP_ROAM,t.event,{type:"scale"},this.myChart)}}},__onmousedown:function(t){if(!(this.shapeList.length<=0)){var e=t.target;if(!e||!e.draggable){var i=t.event,a=m.getX(i),s=m.getY(i),n=this._findMapTypeByPos(a,s);if(n&&this._roamMap[n]&&"scale"!=this._roamMap[n]){this._mousedown=!0,this._mx=a,this._my=s,this._curMapType=n,this.zr.on(f.EVENT.MOUSEUP,this._onmouseup);var o=this;setTimeout(function(){o.zr.on(f.EVENT.MOUSEMOVE,o._onmousemove)},100)}}}},__onmousemove:function(t){if(this._mousedown&&this._isAlive){var e=t.event,i=m.getX(e),a=m.getY(e),s=this._mapDataMap[this._curMapType].transform;s.hasRoam=!0,s.left-=this._mx-i,s.top-=this._my-a,this._mx=i,this._my=a,this._mapDataMap[this._curMapType].transform=s;for(var n=0,o=this.shapeList.length;o>n;n++)this.shapeList[n]._mapType==this._curMapType&&(this.shapeList[n].position[0]=s.left,this.shapeList[n].position[1]=s.top,this.zr.modShape(this.shapeList[n].id));this.messageCenter.dispatch(u.EVENT.MAP_ROAM,t.event,{type:"move"},this.myChart),this.clearEffectShape(!0),this.zr.refreshNextFrame(),this._justMove=!0,m.stop(e)}},__onmouseup:function(t){var e=t.event;this._mx=m.getX(e),this._my=m.getY(e),this._mousedown=!1;var i=this;setTimeout(function(){i._justMove&&i.animationEffect(),i._justMove=!1,i.zr.un(f.EVENT.MOUSEMOVE,i._onmousemove),i.zr.un(f.EVENT.MOUSEUP,i._onmouseup)},120)},__onroamcontroller:function(t){var e=t.event;e.zrenderX=this.zr.getWidth()/2,e.zrenderY=this.zr.getHeight()/2;var i=t.mapTypeControl,a=0,s=0,n=t.step;switch(t.roamType){case"scaleUp":return e.zrenderDelta=1,void this.__onmousewheel({event:e,mapTypeControl:i});case"scaleDown":return e.zrenderDelta=-1,void this.__onmousewheel({event:e,mapTypeControl:i});case"up":a=-n;break;case"down":a=n;break;case"left":s=-n;break;case"right":s=n}var o,r;for(r in i)this._mapDataMap[r]&&this._activeMapType[r]&&(o=this._mapDataMap[r].transform,o.hasRoam=!0,o.left-=s,o.top-=a,this._mapDataMap[r].transform=o);for(var h=0,l=this.shapeList.length;l>h;h++)r=this.shapeList[h]._mapType,i[r]&&this._activeMapType[r]&&(o=this._mapDataMap[r].transform,this.shapeList[h].position[0]=o.left,this.shapeList[h].position[1]=o.top,this.zr.modShape(this.shapeList[h].id));this.messageCenter.dispatch(u.EVENT.MAP_ROAM,t.event,{type:"move"},this.myChart),this.clearEffectShape(!0),this.zr.refreshNextFrame(),clearTimeout(this.dircetionTimer);var p=this;this.dircetionTimer=setTimeout(function(){p.animationEffect()},150)},__ondrhoverlink:function(t){for(var e,i,a=0,s=this.shapeList.length;s>a;a++)e=this.shapeList[a]._mapType,this._hoverLinkMap[e]&&this._activeMapType[e]&&(i=g.get(this.shapeList[a],"value"),null!=i&&i>=t.valueMin&&i<=t.valueMax&&this.zr.addHoverShape(this.shapeList[a]))},onclick:function(t){if(this.isClick&&t.target&&!this._justMove&&"icon"!=t.target.type){this.isClick=!1;var e=t.target,i=e.style._name,a=this.shapeList.length,s=e._mapType||"";if("single"==this._selectedMode[s])for(var n in this._selected)if(this._selected[n]&&this._mapTypeMap[n]==s){for(var o=0;a>o;o++)this.shapeList[o].style._name==n&&this.shapeList[o]._mapType==s&&(this.shapeList[o].style=this.shapeList[o]._style,this.zr.modShape(this.shapeList[o].id));n!=i&&(this._selected[n]=!1)}this._selected[i]=!this._selected[i];for(var o=0;a>o;o++)this.shapeList[o].style._name==i&&this.shapeList[o]._mapType==s&&(this._selected[i]?this.shapeList[o].style=this.shapeList[o].highlightStyle:this.shapeList[o].style=this.shapeList[o]._style,this.zr.modShape(this.shapeList[o].id));this.messageCenter.dispatch(u.EVENT.MAP_SELECTED,t.event,{selected:this._selected,target:i},this.myChart),this.zr.refreshNextFrame();var r=this;setTimeout(function(){r.zr.trigger(f.EVENT.MOUSEMOVE,t.event)},100)}},refresh:function(t){t&&(this.option=t,this.series=t.series),this._mapDataRequireCounter>0?this.clear():this.backupShapeList(),this._buildShape(),this.zr.refreshHover()},ondataRange:function(t,e){this.component.dataRange&&(this.refresh(),e.needRefresh=!0)},pos2geo:function(t,e){return this._mapDataMap[t].transform?this._mapDataMap[t].projection.pos2geo(this._mapDataMap[t].transform,e):null},getGeoByPos:function(t,e){if(!this._mapDataMap[t].transform)return null;var i=[this._mapDataMap[t].transform.left,this._mapDataMap[t].transform.top];return e instanceof Array?(e[0]-=i[0],e[1]-=i[1]):(e.x-=i[0],e.y-=i[1]),this.pos2geo(t,e)},geo2pos:function(t,e){return this._mapDataMap[t].transform?this._mapDataMap[t].projection.geo2pos(this._mapDataMap[t].transform,e):null},getPosByGeo:function(t,e){if(!this._mapDataMap[t].transform)return null;var i=this.geo2pos(t,e);return i[0]+=this._mapDataMap[t].transform.left,i[1]+=this._mapDataMap[t].transform.top,i},getMapPosition:function(t){return this._mapDataMap[t].transform?[this._mapDataMap[t].transform.left,this._mapDataMap[t].transform.top]:null},onbeforDispose:function(){this._isAlive=!1,this.zr.un(f.EVENT.MOUSEWHEEL,this._onmousewheel),this.zr.un(f.EVENT.MOUSEDOWN,this._onmousedown),this.messageCenter.unbind(u.EVENT.ROAMCONTROLLER,this._onroamcontroller),this.messageCenter.unbind(u.EVENT.DATA_RANGE_HOVERLINK,this._ondrhoverlink)}},_.inherits(e,a),i(691).define("map",e),e}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},726:function(t,e,i){var a;a=function(t){var e=i(650),a=i(667),s=a.PathSegment,n=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},o=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(n(t)*n(e))},r=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(o(t,e))},h=function(t){e.call(this,t)};return h.prototype={type:"path",buildPathArray:function(t,e,i){if(!t)return[];e=e||0,i=i||0;var a=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];a=a.replace(/-/g," -"),a=a.replace(/  /g," "),a=a.replace(/ /g,","),a=a.replace(/,,/g,",");var o;for(o=0;o<n.length;o++)a=a.replace(new RegExp(n[o],"g"),"|"+n[o]);var r=a.split("|"),h=[],l=0,p=0;for(o=1;o<r.length;o++){var c=r[o],d=c.charAt(0);c=c.slice(1),c=c.replace(new RegExp("e,-","g"),"e-");var u=c.split(",");u.length>0&&""===u[0]&&u.shift();for(var g=0;g<u.length;g++)u[g]=parseFloat(u[g]);for(;u.length>0&&!isNaN(u[0]);){var _,f,m,y,x,v,b,M,S=null,L=[],C=l,O=p;switch(d){case"l":l+=u.shift(),p+=u.shift(),S="L",L.push(l,p);break;case"L":l=u.shift(),p=u.shift(),L.push(l,p);break;case"m":l+=u.shift(),p+=u.shift(),S="M",L.push(l,p),d="l";break;case"M":l=u.shift(),p=u.shift(),S="M",L.push(l,p),d="L";break;case"h":l+=u.shift(),S="L",L.push(l,p);break;case"H":l=u.shift(),S="L",L.push(l,p);break;case"v":p+=u.shift(),S="L",L.push(l,p);break;case"V":p=u.shift(),S="L",L.push(l,p);break;case"C":L.push(u.shift(),u.shift(),u.shift(),u.shift()),l=u.shift(),p=u.shift(),L.push(l,p);break;case"c":L.push(l+u.shift(),p+u.shift(),l+u.shift(),p+u.shift()),l+=u.shift(),p+=u.shift(),S="C",L.push(l,p);break;case"S":_=l,f=p,m=h[h.length-1],"C"===m.command&&(_=l+(l-m.points[2]),f=p+(p-m.points[3])),L.push(_,f,u.shift(),u.shift()),l=u.shift(),p=u.shift(),S="C",L.push(l,p);break;case"s":_=l,f=p,m=h[h.length-1],"C"===m.command&&(_=l+(l-m.points[2]),f=p+(p-m.points[3])),L.push(_,f,l+u.shift(),p+u.shift()),l+=u.shift(),p+=u.shift(),S="C",L.push(l,p);break;case"Q":L.push(u.shift(),u.shift()),l=u.shift(),p=u.shift(),L.push(l,p);break;case"q":L.push(l+u.shift(),p+u.shift()),l+=u.shift(),p+=u.shift(),S="Q",L.push(l,p);break;case"T":_=l,f=p,m=h[h.length-1],"Q"===m.command&&(_=l+(l-m.points[0]),f=p+(p-m.points[1])),l=u.shift(),p=u.shift(),S="Q",L.push(_,f,l,p);break;case"t":_=l,f=p,m=h[h.length-1],"Q"===m.command&&(_=l+(l-m.points[0]),f=p+(p-m.points[1])),l+=u.shift(),p+=u.shift(),S="Q",L.push(_,f,l,p);break;case"A":y=u.shift(),x=u.shift(),v=u.shift(),b=u.shift(),M=u.shift(),C=l,O=p,l=u.shift(),p=u.shift(),S="A",L=this._convertPoint(C,O,l,p,b,M,y,x,v);break;case"a":y=u.shift(),x=u.shift(),v=u.shift(),b=u.shift(),M=u.shift(),C=l,O=p,l+=u.shift(),p+=u.shift(),S="A",L=this._convertPoint(C,O,l,p,b,M,y,x,v)}for(var R=0,T=L.length;T>R;R+=2)L[R]+=e,L[R+1]+=i;h.push(new s(S||d,L))}("z"===d||"Z"===d)&&h.push(new s("z",[]))}return h},_convertPoint:function(t,e,i,a,s,n,h,l,p){var c=p*(Math.PI/180),d=Math.cos(c)*(t-i)/2+Math.sin(c)*(e-a)/2,u=-1*Math.sin(c)*(t-i)/2+Math.cos(c)*(e-a)/2,g=d*d/(h*h)+u*u/(l*l);g>1&&(h*=Math.sqrt(g),l*=Math.sqrt(g));var _=Math.sqrt((h*h*(l*l)-h*h*(u*u)-l*l*(d*d))/(h*h*(u*u)+l*l*(d*d)));s===n&&(_*=-1),isNaN(_)&&(_=0);var f=_*h*u/l,m=_*-l*d/h,y=(t+i)/2+Math.cos(c)*f-Math.sin(c)*m,x=(e+a)/2+Math.sin(c)*f+Math.cos(c)*m,v=r([1,0],[(d-f)/h,(u-m)/l]),b=[(d-f)/h,(u-m)/l],M=[(-1*d-f)/h,(-1*u-m)/l],S=r(b,M);return o(b,M)<=-1&&(S=Math.PI),o(b,M)>=1&&(S=0),0===n&&S>0&&(S-=2*Math.PI),1===n&&0>S&&(S+=2*Math.PI),[y,x,h,l,v,S,c,n]},buildPath:function(t,e){var i=e.path,a=e.x||0,s=e.y||0;e.pathArray=e.pathArray||this.buildPathArray(i,a,s);for(var n=e.pathArray,o=e.pointList=[],r=[],h=0,l=n.length;l>h;h++){"M"==n[h].command.toUpperCase()&&(r.length>0&&o.push(r),r=[]);for(var p=n[h].points,c=0,d=p.length;d>c;c+=2)r.push([p[c],p[c+1]])}r.length>0&&o.push(r);for(var h=0,l=n.length;l>h;h++){var u=n[h].command,p=n[h].points;switch(u){case"L":t.lineTo(p[0],p[1]);break;case"M":t.moveTo(p[0],p[1]);break;case"C":t.bezierCurveTo(p[0],p[1],p[2],p[3],p[4],p[5]);break;case"Q":t.quadraticCurveTo(p[0],p[1],p[2],p[3]);break;case"A":var g=p[0],_=p[1],f=p[2],m=p[3],y=p[4],x=p[5],v=p[6],b=p[7],M=f>m?f:m,S=f>m?1:f/m,L=f>m?m/f:1;t.translate(g,_),t.rotate(v),t.scale(S,L),t.arc(0,0,M,y,y+x,1-b),t.scale(1/S,1/L),t.rotate(-v),t.translate(-g,-_);break;case"z":t.closePath()}}},getRect:function(t){if(t.__rect)return t.__rect;var e;e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0;for(var i=Number.MAX_VALUE,a=Number.MIN_VALUE,s=Number.MAX_VALUE,n=Number.MIN_VALUE,o=t.x||0,r=t.y||0,h=t.pathArray||this.buildPathArray(t.path),l=0;l<h.length;l++)for(var p=h[l].points,c=0;c<p.length;c++)c%2===0?(p[c]+o<i&&(i=p[c]),p[c]+o>a&&(a=p[c])):(p[c]+r<s&&(s=p[c]),p[c]+r>n&&(n=p[c]));var d;return d=i===Number.MAX_VALUE||a===Number.MIN_VALUE||s===Number.MAX_VALUE||n===Number.MIN_VALUE?{x:0,y:0,width:0,height:0}:{x:Math.round(i-e/2),y:Math.round(s-e/2),width:a-i+e,height:n-s+e},t.__rect=d,d}},i(633).inherits(h,e),h}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},727:function(t,e,i){var a;a=function(t){var e=i(650),a=function(t){e.call(this,t)};return a.prototype={type:"ellipse",buildPath:function(t,e){var i=.5522848,a=e.x,s=e.y,n=e.a,o=e.b,r=n*i,h=o*i;t.moveTo(a-n,s),t.bezierCurveTo(a-n,s-h,a-r,s-o,a,s-o),t.bezierCurveTo(a+r,s-o,a+n,s-h,a+n,s),t.bezierCurveTo(a+n,s+h,a+r,s+o,a,s+o),t.bezierCurveTo(a-r,s+o,a-n,s+h,a-n,s),t.closePath()},getRect:function(t){if(t.__rect)return t.__rect;var e;return e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x-t.a-e/2),y:Math.round(t.y-t.b-e/2),width:2*t.a+e,height:2*t.b+e},t.__rect}},i(633).inherits(a,e),a}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},728:function(t,e,i){var a;a=function(t){function e(t,e,i,s,n){a.call(this,t,e,i,s,n);var o=this;o._ondrift=function(t,e){return o.__ondrift(this,t,e)},o._ondragend=function(){return o.__ondragend()},o._dataRangeSelected=function(t){return o.__dataRangeSelected(t)},o._dispatchHoverLink=function(t){return o.__dispatchHoverLink(t)},o._onhoverlink=function(t){return o.__onhoverlink(t)},this._selectedMap={},this._range={},this.refresh(s),e.bind(r.EVENT.HOVER,this._onhoverlink)}var a=i(685),s=i(647),n=i(653),o=i(729),r=i(632);r.dataRange={zlevel:0,z:4,show:!0,orient:"vertical",x:"left",y:"bottom",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,precision:0,splitNumber:5,splitList:null,calculable:!1,selectedMode:!0,hoverLink:!0,realtime:!0,color:["#006edd","#e0ffff"],textStyle:{color:"#333"}};var h=i(633),l=i(635),p=i(648),c=i(652);return e.prototype={type:r.COMPONENT_TYPE_DATARANGE,_textGap:10,_buildShape:function(){if(this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._isContinuity()?this._buildGradient():this._buildItem(),this.dataRangeOption.show)for(var t=0,e=this.shapeList.length;e>t;t++)this.zr.addShape(this.shapeList[t]);this._syncShapeFromRange()},_buildItem:function(){var t,e,i,a,o=this._valueTextList,r=o.length,h=this.getFont(this.dataRangeOption.textStyle),l=this._itemGroupLocation.x,c=this._itemGroupLocation.y,d=this.dataRangeOption.itemWidth,u=this.dataRangeOption.itemHeight,g=this.dataRangeOption.itemGap,_=p.getTextHeight("国",h);"vertical"==this.dataRangeOption.orient&&"right"==this.dataRangeOption.x&&(l=this._itemGroupLocation.x+this._itemGroupLocation.width-d);var f=!0;this.dataRangeOption.text&&(f=!1,this.dataRangeOption.text[0]&&(i=this._getTextShape(l,c,this.dataRangeOption.text[0]),"horizontal"==this.dataRangeOption.orient?l+=p.getTextWidth(this.dataRangeOption.text[0],h)+this._textGap:(c+=_+this._textGap,i.style.y+=_/2+this._textGap,i.style.textBaseline="bottom"),this.shapeList.push(new s(i))));for(var m=0;r>m;m++)t=o[m],a=this.getColorByIndex(m),e=this._getItemShape(l,c,d,u,this._selectedMap[m]?a:"#ccc"),e._idx=m,e.onmousemove=this._dispatchHoverLink,this.dataRangeOption.selectedMode&&(e.clickable=!0,e.onclick=this._dataRangeSelected),this.shapeList.push(new n(e)),f&&(i={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:l+d+5,y:c,color:this._selectedMap[m]?this.dataRangeOption.textStyle.color:"#ccc",text:o[m],textFont:h,textBaseline:"top"},highlightStyle:{brushType:"fill"}},"vertical"==this.dataRangeOption.orient&&"right"==this.dataRangeOption.x&&(i.style.x-=d+10,i.style.textAlign="right"),i._idx=m,i.onmousemove=this._dispatchHoverLink,this.dataRangeOption.selectedMode&&(i.clickable=!0,i.onclick=this._dataRangeSelected),this.shapeList.push(new s(i))),"horizontal"==this.dataRangeOption.orient?l+=d+(f?5:0)+(f?p.getTextWidth(t,h):0)+g:c+=u+g;!f&&this.dataRangeOption.text[1]&&("horizontal"==this.dataRangeOption.orient?l=l-g+this._textGap:c=c-g+this._textGap,i=this._getTextShape(l,c,this.dataRangeOption.text[1]),"horizontal"!=this.dataRangeOption.orient&&(i.style.y-=5,i.style.textBaseline="top"),this.shapeList.push(new s(i)))},_buildGradient:function(){var t,e,a=this.getFont(this.dataRangeOption.textStyle),o=this._itemGroupLocation.x,r=this._itemGroupLocation.y,h=this.dataRangeOption.itemWidth,l=this.dataRangeOption.itemHeight,c=p.getTextHeight("国",a),d=10,u=!0;this.dataRangeOption.text&&(u=!1,this.dataRangeOption.text[0]&&(e=this._getTextShape(o,r,this.dataRangeOption.text[0]),"horizontal"==this.dataRangeOption.orient?o+=p.getTextWidth(this.dataRangeOption.text[0],a)+this._textGap:(r+=c+this._textGap,e.style.y+=c/2+this._textGap,e.style.textBaseline="bottom"),this.shapeList.push(new s(e))));for(var g=i(652),_=1/(this.dataRangeOption.color.length-1),f=[],m=0,y=this.dataRangeOption.color.length;y>m;m++)f.push([m*_,this.dataRangeOption.color[m]]);"horizontal"==this.dataRangeOption.orient?(t={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:o,y:r,width:h*d,height:l,color:g.getLinearGradient(o,r,o+h*d,r,f)},hoverable:!1},o+=h*d+this._textGap):(t={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:o,y:r,width:h,height:l*d,color:g.getLinearGradient(o,r,o,r+l*d,f)},hoverable:!1},r+=l*d+this._textGap),this.shapeList.push(new n(t)),this._calculableLocation=t.style,this.dataRangeOption.calculable&&(this._buildFiller(),this._bulidMask(),this._bulidHandle()),this._buildIndicator(),!u&&this.dataRangeOption.text[1]&&(e=this._getTextShape(o,r,this.dataRangeOption.text[1]),this.shapeList.push(new s(e)))},_buildIndicator:function(){var t,e,i=this._calculableLocation.x,a=this._calculableLocation.y,s=this._calculableLocation.width,n=this._calculableLocation.height,r=5;"horizontal"==this.dataRangeOption.orient?"bottom"!=this.dataRangeOption.y?(t=[[i,a+n],[i-r,a+n+r],[i+r,a+n+r]],e="bottom"):(t=[[i,a],[i-r,a-r],[i+r,a-r]],e="top"):"right"!=this.dataRangeOption.x?(t=[[i+s,a],[i+s+r,a-r],[i+s+r,a+r]],e="right"):(t=[[i,a],[i-r,a-r],[i-r,a+r]],e="left"),this._indicatorShape={style:{pointList:t,color:"#fff",__rect:{x:Math.min(t[0][0],t[1][0]),y:Math.min(t[0][1],t[1][1]),width:r*("horizontal"==this.dataRangeOption.orient?2:1),height:r*("horizontal"==this.dataRangeOption.orient?1:2)}},highlightStyle:{brushType:"fill",textPosition:e,textColor:this.dataRangeOption.textStyle.color},hoverable:!1},this._indicatorShape=new o(this._indicatorShape)},_buildFiller:function(){this._fillerShape={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{x:this._calculableLocation.x,y:this._calculableLocation.y,width:this._calculableLocation.width,height:this._calculableLocation.height,color:"rgba(255,255,255,0)"},highlightStyle:{strokeColor:"rgba(255,255,255,0.5)",lineWidth:1},draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,onmousemove:this._dispatchHoverLink,_type:"filler"},this._fillerShape=new n(this._fillerShape),this.shapeList.push(this._fillerShape)},_bulidHandle:function(){var t,e,i,a,s,n,r,h,l=this._calculableLocation.x,c=this._calculableLocation.y,d=this._calculableLocation.width,u=this._calculableLocation.height,g=this.getFont(this.dataRangeOption.textStyle),_=p.getTextHeight("国",g),f=Math.max(p.getTextWidth(this._textFormat(this.dataRangeOption.max),g),p.getTextWidth(this._textFormat(this.dataRangeOption.min),g))+2;"horizontal"==this.dataRangeOption.orient?"bottom"!=this.dataRangeOption.y?(t=[[l,c],[l,c+u+_],[l-_,c+u+_],[l-1,c+u],[l-1,c]],e=l-f/2-_,i=c+u+_/2+2,a={x:l-f-_,y:c+u,width:f+_,height:_},s=[[l+d,c],[l+d,c+u+_],[l+d+_,c+u+_],[l+d+1,c+u],[l+d+1,c]],n=l+d+f/2+_,r=i,h={x:l+d,y:c+u,width:f+_,height:_}):(t=[[l,c+u],[l,c-_],[l-_,c-_],[l-1,c],[l-1,c+u]],e=l-f/2-_,i=c-_/2-2,a={x:l-f-_,y:c-_,width:f+_,height:_},s=[[l+d,c+u],[l+d,c-_],[l+d+_,c-_],[l+d+1,c],[l+d+1,c+u]],n=l+d+f/2+_,r=i,h={x:l+d,y:c-_,width:f+_,height:_}):(f+=_,"right"!=this.dataRangeOption.x?(t=[[l,c],[l+d+_,c],[l+d+_,c-_],[l+d,c-1],[l,c-1]],e=l+d+f/2+_/2,i=c-_/2,a={x:l+d,y:c-_,width:f+_,height:_},s=[[l,c+u],[l+d+_,c+u],[l+d+_,c+_+u],[l+d,c+1+u],[l,c+u+1]],n=e,r=c+u+_/2,h={x:l+d,y:c+u,width:f+_,height:_}):(t=[[l+d,c],[l-_,c],[l-_,c-_],[l,c-1],[l+d,c-1]],e=l-f/2-_/2,i=c-_/2,a={x:l-f-_,y:c-_,width:f+_,height:_},s=[[l+d,c+u],[l-_,c+u],[l-_,c+_+u],[l,c+1+u],[l+d,c+u+1]],n=e,r=c+u+_/2,h={x:l-f-_,y:c+u,width:f+_,height:_})),this._startShape={style:{pointList:t,text:this._textFormat(this.dataRangeOption.max),textX:e,textY:i,textFont:g,color:this.getColor(this.dataRangeOption.max),rect:a,x:t[0][0],y:t[0][1],_x:t[0][0],_y:t[0][1]}},this._startShape.highlightStyle={strokeColor:this._startShape.style.color,lineWidth:1},this._endShape={style:{pointList:s,text:this._textFormat(this.dataRangeOption.min),textX:n,textY:r,textFont:g,color:this.getColor(this.dataRangeOption.min),rect:h,x:s[0][0],y:s[0][1],_x:s[0][0],_y:s[0][1]}},this._endShape.highlightStyle={strokeColor:this._endShape.style.color,lineWidth:1},this._startShape.zlevel=this._endShape.zlevel=this.getZlevelBase(),this._startShape.z=this._endShape.z=this.getZBase()+1,this._startShape.draggable=this._endShape.draggable=!0,this._startShape.ondrift=this._endShape.ondrift=this._ondrift,this._startShape.ondragend=this._endShape.ondragend=this._ondragend,this._startShape.style.textColor=this._endShape.style.textColor=this.dataRangeOption.textStyle.color,this._startShape.style.textAlign=this._endShape.style.textAlign="center",this._startShape.style.textPosition=this._endShape.style.textPosition="specific",this._startShape.style.textBaseline=this._endShape.style.textBaseline="middle",this._startShape.style.width=this._endShape.style.width=0,this._startShape.style.height=this._endShape.style.height=0,this._startShape.style.textPosition=this._endShape.style.textPosition="specific",this._startShape=new o(this._startShape),this._endShape=new o(this._endShape),this.shapeList.push(this._startShape),this.shapeList.push(this._endShape)},_bulidMask:function(){var t=this._calculableLocation.x,e=this._calculableLocation.y,i=this._calculableLocation.width,a=this._calculableLocation.height;this._startMask={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{x:t,y:e,width:"horizontal"==this.dataRangeOption.orient?0:i,height:"horizontal"==this.dataRangeOption.orient?a:0,color:"#ccc"},hoverable:!1},this._endMask={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{x:"horizontal"==this.dataRangeOption.orient?t+i:t,y:"horizontal"==this.dataRangeOption.orient?e:e+a,width:"horizontal"==this.dataRangeOption.orient?0:i,height:"horizontal"==this.dataRangeOption.orient?a:0,color:"#ccc"},hoverable:!1},this._startMask=new n(this._startMask),this._endMask=new n(this._endMask),this.shapeList.push(this._startMask),this.shapeList.push(this._endMask)},_buildBackground:function(){var t=this.reformCssArray(this.dataRangeOption.padding);this.shapeList.push(new n({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-t[3],y:this._itemGroupLocation.y-t[0],width:this._itemGroupLocation.width+t[3]+t[1],height:this._itemGroupLocation.height+t[0]+t[2],brushType:0===this.dataRangeOption.borderWidth?"fill":"both",color:this.dataRangeOption.backgroundColor,strokeColor:this.dataRangeOption.borderColor,lineWidth:this.dataRangeOption.borderWidth}}))},_getItemGroupLocation:function(){var t=this._valueTextList,e=t.length,i=this.dataRangeOption.itemGap,a=this.dataRangeOption.itemWidth,s=this.dataRangeOption.itemHeight,n=0,o=0,r=this.getFont(this.dataRangeOption.textStyle),h=p.getTextHeight("国",r),l=10;if("horizontal"==this.dataRangeOption.orient){if(this.dataRangeOption.text||this._isContinuity())n=(this._isContinuity()?a*l+i:e*(a+i))+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[0]?p.getTextWidth(this.dataRangeOption.text[0],r)+this._textGap:0)+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[1]?p.getTextWidth(this.dataRangeOption.text[1],r)+this._textGap:0);else{a+=5;for(var c=0;e>c;c++)n+=a+p.getTextWidth(t[c],r)+i}n-=i,o=Math.max(h,s)}else{var d;if(this.dataRangeOption.text||this._isContinuity())o=(this._isContinuity()?s*l+i:e*(s+i))+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[0]?this._textGap+h:0)+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[1]?this._textGap+h:0),d=Math.max(p.getTextWidth(this.dataRangeOption.text&&this.dataRangeOption.text[0]||"",r),p.getTextWidth(this.dataRangeOption.text&&this.dataRangeOption.text[1]||"",r)),n=Math.max(a,d);else{o=(s+i)*e,a+=5,d=0;for(var c=0;e>c;c++)d=Math.max(d,p.getTextWidth(t[c],r));n=a+d}o-=i}var u,g=this.reformCssArray(this.dataRangeOption.padding),_=this.zr.getWidth();switch(this.dataRangeOption.x){case"center":u=Math.floor((_-n)/2);break;case"left":u=g[3]+this.dataRangeOption.borderWidth;break;case"right":u=_-n-g[1]-this.dataRangeOption.borderWidth;break;default:u=this.parsePercent(this.dataRangeOption.x,_),u=isNaN(u)?0:u}var f,m=this.zr.getHeight();switch(this.dataRangeOption.y){case"top":f=g[0]+this.dataRangeOption.borderWidth;break;case"bottom":f=m-o-g[2]-this.dataRangeOption.borderWidth;break;case"center":f=Math.floor((m-o)/2);break;default:f=this.parsePercent(this.dataRangeOption.y,m),f=isNaN(f)?0:f}if(this.dataRangeOption.calculable){var y=Math.max(p.getTextWidth(this.dataRangeOption.max,r),p.getTextWidth(this.dataRangeOption.min,r))+h;"horizontal"==this.dataRangeOption.orient?(y>u&&(u=y),u+n+y>_&&(u-=y)):(h>f&&(f=h),f+o+h>m&&(f-=h))}return{x:u,y:f,width:n,height:o}},_getTextShape:function(t,e,i){return{zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:"horizontal"==this.dataRangeOption.orient?t:this._itemGroupLocation.x+this._itemGroupLocation.width/2,y:"horizontal"==this.dataRangeOption.orient?this._itemGroupLocation.y+this._itemGroupLocation.height/2:e,color:this.dataRangeOption.textStyle.color,text:i,textFont:this.getFont(this.dataRangeOption.textStyle),textBaseline:"horizontal"==this.dataRangeOption.orient?"middle":"top",textAlign:"horizontal"==this.dataRangeOption.orient?"left":"center"},hoverable:!1}},_getItemShape:function(t,e,i,a,s){return{zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:t,y:e+1,width:i,height:a-2,color:s},highlightStyle:{strokeColor:s,lineWidth:1}}},__ondrift:function(t,e,i){var a=this._calculableLocation.x,s=this._calculableLocation.y,n=this._calculableLocation.width,o=this._calculableLocation.height;return"horizontal"==this.dataRangeOption.orient?t.style.x+e<=a?t.style.x=a:t.style.x+e+t.style.width>=a+n?t.style.x=a+n-t.style.width:t.style.x+=e:t.style.y+i<=s?t.style.y=s:t.style.y+i+t.style.height>=s+o?t.style.y=s+o-t.style.height:t.style.y+=i,"filler"==t._type?this._syncHandleShape():this._syncFillerShape(t),this.dataRangeOption.realtime&&this._dispatchDataRange(),!0},__ondragend:function(){this.isDragend=!0},ondragend:function(t,e){this.isDragend&&t.target&&(e.dragOut=!0,e.dragIn=!0,this.dataRangeOption.realtime||this._dispatchDataRange(),e.needRefresh=!1,this.isDragend=!1)},_syncShapeFromRange:function(){var t=this.dataRangeOption.range||{},e=t.start,i=t.end;if(e>i&&(e=[i,i=e][0]),this._range.end=null!=e?e:null!=this._range.end?this._range.end:0,this._range.start=null!=i?i:null!=this._range.start?this._range.start:100,100!=this._range.start||0!==this._range.end){if("horizontal"==this.dataRangeOption.orient){var a=this._fillerShape.style.width;this._fillerShape.style.x+=a*(100-this._range.start)/100,this._fillerShape.style.width=a*(this._range.start-this._range.end)/100}else{var s=this._fillerShape.style.height;this._fillerShape.style.y+=s*(100-this._range.start)/100,this._fillerShape.style.height=s*(this._range.start-this._range.end)/100}this.zr.modShape(this._fillerShape.id),this._syncHandleShape()}},_syncHandleShape:function(){var t=this._calculableLocation.x,e=this._calculableLocation.y,i=this._calculableLocation.width,a=this._calculableLocation.height;"horizontal"==this.dataRangeOption.orient?(this._startShape.style.x=this._fillerShape.style.x,this._startMask.style.width=this._startShape.style.x-t,
this._endShape.style.x=this._fillerShape.style.x+this._fillerShape.style.width,this._endMask.style.x=this._endShape.style.x,this._endMask.style.width=t+i-this._endShape.style.x,this._range.start=Math.ceil(100-(this._startShape.style.x-t)/i*100),this._range.end=Math.floor(100-(this._endShape.style.x-t)/i*100)):(this._startShape.style.y=this._fillerShape.style.y,this._startMask.style.height=this._startShape.style.y-e,this._endShape.style.y=this._fillerShape.style.y+this._fillerShape.style.height,this._endMask.style.y=this._endShape.style.y,this._endMask.style.height=e+a-this._endShape.style.y,this._range.start=Math.ceil(100-(this._startShape.style.y-e)/a*100),this._range.end=Math.floor(100-(this._endShape.style.y-e)/a*100)),this._syncShape()},_syncFillerShape:function(t){var e,i,a=this._calculableLocation.x,s=this._calculableLocation.y,n=this._calculableLocation.width,o=this._calculableLocation.height;"horizontal"==this.dataRangeOption.orient?(e=this._startShape.style.x,i=this._endShape.style.x,t.id==this._startShape.id&&e>=i?(i=e,this._endShape.style.x=e):t.id==this._endShape.id&&e>=i&&(e=i,this._startShape.style.x=e),this._fillerShape.style.x=e,this._fillerShape.style.width=i-e,this._startMask.style.width=e-a,this._endMask.style.x=i,this._endMask.style.width=a+n-i,this._range.start=Math.ceil(100-(e-a)/n*100),this._range.end=Math.floor(100-(i-a)/n*100)):(e=this._startShape.style.y,i=this._endShape.style.y,t.id==this._startShape.id&&e>=i?(i=e,this._endShape.style.y=e):t.id==this._endShape.id&&e>=i&&(e=i,this._startShape.style.y=e),this._fillerShape.style.y=e,this._fillerShape.style.height=i-e,this._startMask.style.height=e-s,this._endMask.style.y=i,this._endMask.style.height=s+o-i,this._range.start=Math.ceil(100-(e-s)/o*100),this._range.end=Math.floor(100-(i-s)/o*100)),this._syncShape()},_syncShape:function(){this._startShape.position=[this._startShape.style.x-this._startShape.style._x,this._startShape.style.y-this._startShape.style._y],this._startShape.style.text=this._textFormat(this._gap*this._range.start+this.dataRangeOption.min),this._startShape.style.color=this._startShape.highlightStyle.strokeColor=this.getColor(this._gap*this._range.start+this.dataRangeOption.min),this._endShape.position=[this._endShape.style.x-this._endShape.style._x,this._endShape.style.y-this._endShape.style._y],this._endShape.style.text=this._textFormat(this._gap*this._range.end+this.dataRangeOption.min),this._endShape.style.color=this._endShape.highlightStyle.strokeColor=this.getColor(this._gap*this._range.end+this.dataRangeOption.min),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._startMask.id),this.zr.modShape(this._endMask.id),this.zr.modShape(this._fillerShape.id),this.zr.refreshNextFrame()},_dispatchDataRange:function(){this.messageCenter.dispatch(r.EVENT.DATA_RANGE,null,{range:{start:this._range.end,end:this._range.start}},this.myChart)},__dataRangeSelected:function(t){if("single"===this.dataRangeOption.selectedMode)for(var e in this._selectedMap)this._selectedMap[e]=!1;var i=t.target._idx;this._selectedMap[i]=!this._selectedMap[i];var a,s;this._useCustomizedSplit()?(a=this._splitList[i].max,s=this._splitList[i].min):(a=(this._colorList.length-i)*this._gap+this.dataRangeOption.min,s=a-this._gap),this.messageCenter.dispatch(r.EVENT.DATA_RANGE_SELECTED,t.event,{selected:this._selectedMap,target:i,valueMax:a,valueMin:s},this.myChart),this.messageCenter.dispatch(r.EVENT.REFRESH,null,null,this.myChart)},__dispatchHoverLink:function(t){var e,i;if(this.dataRangeOption.calculable){var a,s=this.dataRangeOption.max-this.dataRangeOption.min;a="horizontal"==this.dataRangeOption.orient?(1-(l.getX(t.event)-this._calculableLocation.x)/this._calculableLocation.width)*s:(1-(l.getY(t.event)-this._calculableLocation.y)/this._calculableLocation.height)*s,e=a-.05*s,i=a+.05*s}else if(this._useCustomizedSplit()){var n=t.target._idx;i=this._splitList[n].max,e=this._splitList[n].min}else{var n=t.target._idx;i=(this._colorList.length-n)*this._gap+this.dataRangeOption.min,e=i-this._gap}this.messageCenter.dispatch(r.EVENT.DATA_RANGE_HOVERLINK,t.event,{valueMin:e,valueMax:i},this.myChart)},__onhoverlink:function(t){if(this.dataRangeOption.show&&this.dataRangeOption.hoverLink&&this._indicatorShape&&t&&null!=t.seriesIndex&&null!=t.dataIndex){var e=t.value;if(""===e||isNaN(e))return;e<this.dataRangeOption.min?e=this.dataRangeOption.min:e>this.dataRangeOption.max&&(e=this.dataRangeOption.max),"horizontal"==this.dataRangeOption.orient?this._indicatorShape.position=[(this.dataRangeOption.max-e)/(this.dataRangeOption.max-this.dataRangeOption.min)*this._calculableLocation.width,0]:this._indicatorShape.position=[0,(this.dataRangeOption.max-e)/(this.dataRangeOption.max-this.dataRangeOption.min)*this._calculableLocation.height],this._indicatorShape.style.text=this._textFormat(t.value),this._indicatorShape.style.color=this.getColor(e),this.zr.addHoverShape(this._indicatorShape)}},_textFormat:function(t,e){var i=this.dataRangeOption;if(t!==-Number.MAX_VALUE&&(t=(+t).toFixed(i.precision)),null!=e&&e!==Number.MAX_VALUE&&(e=(+e).toFixed(i.precision)),i.formatter){if("string"==typeof i.formatter)return i.formatter.replace("{value}",t===-Number.MAX_VALUE?"min":t).replace("{value2}",e===Number.MAX_VALUE?"max":e);if("function"==typeof i.formatter)return i.formatter.call(this.myChart,t,e)}return null==e?t:t===-Number.MAX_VALUE?"< "+e:e===Number.MAX_VALUE?"> "+t:t+" - "+e},_isContinuity:function(){var t=this.dataRangeOption;return!(t.splitList?t.splitList.length>0:t.splitNumber>0)||t.calculable},_useCustomizedSplit:function(){var t=this.dataRangeOption;return t.splitList&&t.splitList.length>0},_buildColorList:function(t){if(this._colorList=c.getGradientColors(this.dataRangeOption.color,Math.max((t-this.dataRangeOption.color.length)/(this.dataRangeOption.color.length-1),0)+1),this._colorList.length>t){for(var e=this._colorList.length,i=[this._colorList[0]],a=e/(t-1),s=1;t-1>s;s++)i.push(this._colorList[Math.floor(s*a)]);i.push(this._colorList[e-1]),this._colorList=i}if(this._useCustomizedSplit())for(var n=this._splitList,s=0,e=n.length;e>s;s++)n[s].color&&(this._colorList[s]=n[s].color)},_buildGap:function(t){if(!this._useCustomizedSplit()){var e=this.dataRangeOption.precision;for(this._gap=(this.dataRangeOption.max-this.dataRangeOption.min)/t;this._gap.toFixed(e)-0!=this._gap&&5>e;)e++;this.dataRangeOption.precision=e,this._gap=((this.dataRangeOption.max-this.dataRangeOption.min)/t).toFixed(e)-0}},_buildDataList:function(t){for(var e=this._valueTextList=[],i=this.dataRangeOption,a=this._useCustomizedSplit(),s=0;t>s;s++){this._selectedMap[s]=!0;var n="";if(a){var o=this._splitList[t-1-s];n=null!=o.label?o.label:null!=o.single?this._textFormat(o.single):this._textFormat(o.min,o.max)}else n=this._textFormat(s*this._gap+i.min,(s+1)*this._gap+i.min);e.unshift(n)}},_buildSplitList:function(){if(this._useCustomizedSplit())for(var t=this.dataRangeOption.splitList,e=this._splitList=[],i=0,a=t.length;a>i;i++){var s=t[i];if(!s||null==s.start&&null==s.end)throw new Error("Empty item exists in splitList!");var n={label:s.label,color:s.color};n.min=s.start,n.max=s.end,n.min>n.max&&(n.min=[n.max,n.max=n.min][0]),n.min===n.max&&(n.single=n.max),null==n.min&&(n.min=-Number.MAX_VALUE),null==n.max&&(n.max=Number.MAX_VALUE),e.push(n)}},refresh:function(t){if(t){this.option=t,this.option.dataRange=this.reformOption(this.option.dataRange);var e=this.dataRangeOption=this.option.dataRange;if(!this._useCustomizedSplit()&&(null==e.min||null==e.max))throw new Error("option.dataRange.min or option.dataRange.max has not been defined.");this.myChart.canvasSupported||(e.realtime=!1);var i=this._isContinuity()?100:this._useCustomizedSplit()?e.splitList.length:e.splitNumber;this._buildSplitList(),this._buildColorList(i),this._buildGap(i),this._buildDataList(i)}this.clear(),this._buildShape()},getColor:function(t){if(isNaN(t))return null;var e;if(this._useCustomizedSplit()){for(var i=this._splitList,a=0,s=i.length;s>a;a++)if(i[a].min<=t&&i[a].max>=t){e=a;break}}else{if(this.dataRangeOption.min==this.dataRangeOption.max)return this._colorList[0];if(t<this.dataRangeOption.min?t=this.dataRangeOption.min:t>this.dataRangeOption.max&&(t=this.dataRangeOption.max),this.dataRangeOption.calculable&&(t-(this._gap*this._range.start+this.dataRangeOption.min)>5e-5||t-(this._gap*this._range.end+this.dataRangeOption.min)<-5e-5))return null;e=this._colorList.length-Math.ceil((t-this.dataRangeOption.min)/(this.dataRangeOption.max-this.dataRangeOption.min)*this._colorList.length),e==this._colorList.length&&e--}return this._selectedMap[e]?this._colorList[e]:null},getColorByIndex:function(t){return t>=this._colorList.length?t=this._colorList.length-1:0>t&&(t=0),this._colorList[t]},onbeforDispose:function(){this.messageCenter.unbind(r.EVENT.HOVER,this._onhoverlink)}},h.inherits(e,a),i(694).define("dataRange",e),e}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},729:function(t,e,i){var a;a=function(t){function e(t){a.call(this,t)}var a=i(650),s=i(674),n=i(633);return e.prototype={type:"handle-polygon",buildPath:function(t,e){s.prototype.buildPath(t,e)},isCover:function(t,e){var i=this.transformCoordToLocal(t,e);t=i[0],e=i[1];var a=this.style.rect;return t>=a.x&&t<=a.x+a.width&&e>=a.y&&e<=a.y+a.height?!0:!1}},n.inherits(e,a),e}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},730:function(t,e,i){var a;a=function(t){function e(t,e,i,s,n){if(this.rcOption={},s.roamController&&s.roamController.show){if(!s.roamController.mapTypeControl)return void console.error("option.roamController.mapTypeControl has not been defined.");a.call(this,t,e,i,s,n),this.rcOption=s.roamController;var o=this;this._drictionMouseDown=function(t){return o.__drictionMouseDown(t)},this._drictionMouseUp=function(t){return o.__drictionMouseUp(t)},this._drictionMouseMove=function(t){return o.__drictionMouseMove(t)},this._drictionMouseOut=function(t){return o.__drictionMouseOut(t)},this._scaleHandler=function(t){return o.__scaleHandler(t)},this.refresh(s)}}var a=i(685),s=i(653),n=i(699),o=i(683),r=i(632);r.roamController={zlevel:0,z:4,show:!0,x:"left",y:"top",width:80,height:120,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,handleColor:"#6495ed",fillerColor:"#fff",step:15,mapTypeControl:null};var h=i(633),l=i(652),p=i(635);return e.prototype={type:r.COMPONENT_TYPE_ROAMCONTROLLER,_buildShape:function(){if(this.rcOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var t=0,e=this.shapeList.length;e>t;t++)this.zr.addShape(this.shapeList[t])}},_buildItem:function(){this.shapeList.push(this._getDirectionShape("up")),this.shapeList.push(this._getDirectionShape("down")),this.shapeList.push(this._getDirectionShape("left")),this.shapeList.push(this._getDirectionShape("right")),this.shapeList.push(this._getScaleShape("scaleUp")),this.shapeList.push(this._getScaleShape("scaleDown"))},_getDirectionShape:function(t){var e=this._itemGroupLocation.r,i=this._itemGroupLocation.x+e,a=this._itemGroupLocation.y+e,s={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:i,y:a,r:e,startAngle:-45,endAngle:45,color:this.rcOption.handleColor,text:">",textX:i+e/2+4,textY:a-.5,textAlign:"center",textBaseline:"middle",textPosition:"specific",textColor:this.rcOption.fillerColor,textFont:Math.floor(e/2)+"px arial"},highlightStyle:{color:l.lift(this.rcOption.handleColor,-.2),brushType:"fill"},clickable:!0};switch(t){case"up":s.rotation=[Math.PI/2,i,a];break;case"left":s.rotation=[Math.PI,i,a];break;case"down":s.rotation=[-Math.PI/2,i,a]}return s=new n(s),s._roamType=t,s.onmousedown=this._drictionMouseDown,s.onmouseup=this._drictionMouseUp,s.onmousemove=this._drictionMouseMove,s.onmouseout=this._drictionMouseOut,s},_getScaleShape:function(t){var e=this._itemGroupLocation.width,i=this._itemGroupLocation.height-e;i=0>i?20:i;var a=Math.min(e/2-5,i)/2,s=this._itemGroupLocation.x+("scaleDown"===t?e-a:a),n=this._itemGroupLocation.y+this._itemGroupLocation.height-a,r={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:s,y:n,r:a,color:this.rcOption.handleColor,text:"scaleDown"===t?"-":"+",textX:s,textY:n-2,textAlign:"center",textBaseline:"middle",textPosition:"specific",textColor:this.rcOption.fillerColor,textFont:Math.floor(a)+"px verdana"},highlightStyle:{color:l.lift(this.rcOption.handleColor,-.2),brushType:"fill"},clickable:!0};return r=new o(r),r._roamType=t,r.onmousedown=this._scaleHandler,r},_buildBackground:function(){var t=this.reformCssArray(this.rcOption.padding);this.shapeList.push(new s({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-t[3],y:this._itemGroupLocation.y-t[0],width:this._itemGroupLocation.width+t[3]+t[1],height:this._itemGroupLocation.height+t[0]+t[2],brushType:0===this.rcOption.borderWidth?"fill":"both",color:this.rcOption.backgroundColor,strokeColor:this.rcOption.borderColor,lineWidth:this.rcOption.borderWidth}}))},_getItemGroupLocation:function(){var t,e=this.reformCssArray(this.rcOption.padding),i=this.rcOption.width,a=this.rcOption.height,s=this.zr.getWidth(),n=this.zr.getHeight();switch(this.rcOption.x){case"center":t=Math.floor((s-i)/2);break;case"left":t=e[3]+this.rcOption.borderWidth;break;case"right":t=s-i-e[1]-e[3]-2*this.rcOption.borderWidth;break;default:t=this.parsePercent(this.rcOption.x,s)}var o;switch(this.rcOption.y){case"top":o=e[0]+this.rcOption.borderWidth;break;case"bottom":o=n-a-e[0]-e[2]-2*this.rcOption.borderWidth;break;case"center":o=Math.floor((n-a)/2);break;default:o=this.parsePercent(this.rcOption.y,n)}return{x:t,y:o,r:i/2,width:i,height:a}},__drictionMouseDown:function(t){this.mousedown=!0,this._drictionHandlerOn(t)},__drictionMouseUp:function(t){this.mousedown=!1,this._drictionHandlerOff(t)},__drictionMouseMove:function(t){this.mousedown&&this._drictionHandlerOn(t)},__drictionMouseOut:function(t){this._drictionHandlerOff(t)},_drictionHandlerOn:function(t){this._dispatchEvent(t.event,t.target._roamType),clearInterval(this.dircetionTimer);var e=this;this.dircetionTimer=setInterval(function(){e._dispatchEvent(t.event,t.target._roamType)},100),p.stop(t.event)},_drictionHandlerOff:function(t){clearInterval(this.dircetionTimer)},__scaleHandler:function(t){this._dispatchEvent(t.event,t.target._roamType),p.stop(t.event)},_dispatchEvent:function(t,e){this.messageCenter.dispatch(r.EVENT.ROAMCONTROLLER,t,{roamType:e,mapTypeControl:this.rcOption.mapTypeControl,step:this.rcOption.step},this.myChart)},refresh:function(t){t&&(this.option=t||this.option,this.option.roamController=this.reformOption(this.option.roamController),this.rcOption=this.option.roamController),this.clear(),this._buildShape()}},h.inherits(e,a),i(694).define("roamController",e),e}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},731:function(t,e,i){var a;a=function(t){function e(t){if(this.option=t,t)for(var e in i)void 0!==t[e]?this.option[e]=t[e]:this.option[e]=i[e];else this.option=i}var i={blurSize:30,gradientColors:["blue","cyan","lime","yellow","red"],minAlpha:.05,valueScale:1,opacity:1},a=20,s=256;return e.prototype={getCanvas:function(t,e,i){var n=this._getBrush(),o=this._getGradient(),r=a+this.option.blurSize,h=document.createElement("canvas");h.width=e,h.height=i;for(var l=h.getContext("2d"),p=t.length,c=0;p>c;++c){var d=t[c],u=d[0],g=d[1],_=d[2],f=Math.min(1,Math.max(_*this.option.valueScale||this.option.minAlpha,this.option.minAlpha));l.globalAlpha=f,l.drawImage(n,u-r,g-r)}for(var m=l.getImageData(0,0,h.width,h.height),y=m.data,p=y.length/4;p--;){var x=4*p+3,f=y[x]/256,v=Math.floor(f*(s-1));y[x-3]=o[4*v],y[x-2]=o[4*v+1],y[x-1]=o[4*v+2],y[x]*=this.option.opacity}return l.putImageData(m,0,0),h},_getBrush:function(){if(!this._brushCanvas){this._brushCanvas=document.createElement("canvas");var t=a+this.option.blurSize,e=2*t;this._brushCanvas.width=e,this._brushCanvas.height=e;var i=this._brushCanvas.getContext("2d");i.shadowOffsetX=e,i.shadowBlur=this.option.blurSize,i.shadowColor="black",i.beginPath(),i.arc(-t,t,a,0,2*Math.PI,!0),i.closePath(),i.fill()}return this._brushCanvas},_getGradient:function(){if(!this._gradientPixels){var t=s,e=document.createElement("canvas");e.width=1,e.height=t;for(var i=e.getContext("2d"),a=i.createLinearGradient(0,0,0,t),n=this.option.gradientColors.length,o=0;n>o;++o)"string"==typeof this.option.gradientColors[o]?a.addColorStop((o+1)/n,this.option.gradientColors[o]):a.addColorStop(this.option.gradientColors[o].offset,this.option.gradientColors[o].color);i.fillStyle=a,i.fillRect(0,0,1,t),this._gradientPixels=i.getImageData(0,0,1,t).data}return this._gradientPixels}},e}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},732:function(t,e,i){var a;a=function(t){function e(t){if(!t.UTF8Encoding)return t;for(var e=t.features,i=0;i<e.length;i++)for(var s=e[i],n=s.geometry.coordinates,o=s.geometry.encodeOffsets,r=0;r<n.length;r++){var h=n[r];if("Polygon"===s.geometry.type)n[r]=a(h,o[r]);else if("MultiPolygon"===s.geometry.type)for(var l=0;l<h.length;l++){var p=h[l];h[l]=a(p,o[r][l])}}return t.UTF8Encoding=!1,t}function a(t,e){for(var i=[],a=e[0],s=e[1],n=0;n<t.length;n+=2){var o=t.charCodeAt(n)-64,r=t.charCodeAt(n+1)-64;o=o>>1^-(1&o),r=r>>1^-(1&r),o+=a,r+=s,a=o,s=r,i.push([o/1024,r/1024])}return i}var s={none:{getGeoJson:function(t){t({type:"FeatureCollection",features:[{type:"Feature",geometry:{coordinates:[],encodeOffsets:[],type:"Polygon"},properties:{}}]})}},world:{getGeoJson:function(t){i.e(9,function(i){var a=[i(733)];(function(i){t(e(i))}).apply(null,a)})}},china:{getGeoJson:function(t){i.e(10,function(i){var a=[i(734)];(function(i){t(e(i))}).apply(null,a)})}},"南海诸岛":{textCoord:[126,25],getPath:function(t,e){for(var i=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],a="",s=t[0],n=t[1],o=0,r=i.length;r>o;o++){a+="M "+((i[o][0][0]*e+s).toFixed(2)-0)+" "+((i[o][0][1]*e+n).toFixed(2)-0)+" ";for(var h=1,l=i[o].length;l>h;h++)a+="L "+((i[o][h][0]*e+s).toFixed(2)-0)+" "+((i[o][h][1]*e+n).toFixed(2)-0)+" "}return a+" Z"}},"新疆":{getGeoJson:function(t){i.e(11,function(i){var a=[i(735)];(function(i){t(e(i))}).apply(null,a)})}},"西藏":{getGeoJson:function(t){i.e(12,function(i){var a=[i(736)];(function(i){t(e(i))}).apply(null,a)})}},"内蒙古":{getGeoJson:function(t){i.e(13,function(i){var a=[i(737)];(function(i){t(e(i))}).apply(null,a)})}},"青海":{getGeoJson:function(t){i.e(14,function(i){var a=[i(738)];(function(i){t(e(i))}).apply(null,a)})}},"四川":{getGeoJson:function(t){i.e(15,function(i){var a=[i(739)];(function(i){t(e(i))}).apply(null,a)})}},"黑龙江":{getGeoJson:function(t){i.e(16,function(i){var a=[i(740)];(function(i){t(e(i))}).apply(null,a)})}},"甘肃":{getGeoJson:function(t){i.e(17,function(i){var a=[i(741)];(function(i){t(e(i))}).apply(null,a)})}},"云南":{getGeoJson:function(t){i.e(18,function(i){var a=[i(742)];(function(i){t(e(i))}).apply(null,a)})}},"广西":{getGeoJson:function(t){i.e(19,function(i){var a=[i(743)];(function(i){t(e(i))}).apply(null,a)})}},"湖南":{getGeoJson:function(t){i.e(20,function(i){var a=[i(744)];(function(i){t(e(i))}).apply(null,a)})}},"陕西":{getGeoJson:function(t){i.e(21,function(i){var a=[i(745)];(function(i){t(e(i))}).apply(null,a)})}},"广东":{getGeoJson:function(t){i.e(22,function(i){var a=[i(746)];(function(i){t(e(i))}).apply(null,a)})}},"吉林":{getGeoJson:function(t){i.e(23,function(i){var a=[i(747)];(function(i){t(e(i))}).apply(null,a)})}},"河北":{getGeoJson:function(t){i.e(24,function(i){var a=[i(748)];(function(i){t(e(i))}).apply(null,a)})}},"湖北":{getGeoJson:function(t){i.e(25,function(i){var a=[i(749)];(function(i){t(e(i))}).apply(null,a)})}},"贵州":{getGeoJson:function(t){i.e(26,function(i){var a=[i(750)];(function(i){t(e(i))}).apply(null,a)})}},"山东":{getGeoJson:function(t){i.e(27,function(i){var a=[i(751)];(function(i){t(e(i))}).apply(null,a)})}},"江西":{getGeoJson:function(t){i.e(28,function(i){var a=[i(752)];(function(i){t(e(i))}).apply(null,a)})}},"河南":{getGeoJson:function(t){i.e(29,function(i){var a=[i(753)];(function(i){t(e(i))}).apply(null,a)})}},"辽宁":{getGeoJson:function(t){i.e(30,function(i){var a=[i(754)];(function(i){t(e(i))}).apply(null,a)})}},"山西":{getGeoJson:function(t){i.e(31,function(i){var a=[i(755)];(function(i){t(e(i))}).apply(null,a)})}},"安徽":{getGeoJson:function(t){i.e(32,function(i){var a=[i(756)];(function(i){t(e(i))}).apply(null,a)})}},"福建":{getGeoJson:function(t){i.e(33,function(i){var a=[i(757)];(function(i){t(e(i))}).apply(null,a)})}},"浙江":{getGeoJson:function(t){i.e(34,function(i){var a=[i(758)];(function(i){t(e(i))}).apply(null,a)})}},"江苏":{getGeoJson:function(t){i.e(35,function(i){var a=[i(759)];(function(i){t(e(i))}).apply(null,a)})}},"重庆":{getGeoJson:function(t){i.e(36,function(i){var a=[i(760)];(function(i){t(e(i))}).apply(null,a)})}},"宁夏":{getGeoJson:function(t){i.e(37,function(i){var a=[i(761)];(function(i){t(e(i))}).apply(null,a)})}},"海南":{getGeoJson:function(t){i.e(38,function(i){var a=[i(762)];(function(i){t(e(i))}).apply(null,a)})}},"台湾":{getGeoJson:function(t){i.e(39,function(i){var a=[i(763)];(function(i){t(e(i))}).apply(null,a)})}},"北京":{getGeoJson:function(t){i.e(40,function(i){var a=[i(764)];(function(i){t(e(i))}).apply(null,a)})}},"天津":{getGeoJson:function(t){i.e(41,function(i){var a=[i(765)];(function(i){t(e(i))}).apply(null,a)})}},"上海":{getGeoJson:function(t){i.e(42,function(i){var a=[i(766)];(function(i){t(e(i))}).apply(null,a)})}},"香港":{getGeoJson:function(t){i.e(43,function(i){var a=[i(767)];(function(i){t(e(i))}).apply(null,a)})}},"澳门":{getGeoJson:function(t){i.e(44,function(i){var a=[i(768)];(function(i){t(e(i))}).apply(null,a)})}}};return{decode:e,params:s}}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},769:function(t,e,i){var a;a=function(){return{"广东":[0,-10],"香港":[10,10],"澳门":[-10,18],"黑龙江":[0,20],"天津":[5,5],"深圳市":[-35,0],"红河哈尼族彝族自治州":[0,20],"楚雄彝族自治州":[-5,15],"石河子市":[-5,5],"五家渠市":[0,-10],"昌吉回族自治州":[10,10],"昌江黎族自治县":[0,20],"陵水黎族自治县":[0,20],"东方市":[0,20],"渭南市":[0,20]}}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},770:function(t,e,i){var a;a=function(){return{Russia:[100,60],"United States of America":[-99,38]}}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},771:function(t,e,i){var a;a=function(t){function e(t){return parseFloat(t||0)}function a(t){for(var i=t.firstChild;"svg"!=i.nodeName.toLowerCase()||1!=i.nodeType;)i=i.nextSibling;var a=e(i.getAttribute("x")),s=e(i.getAttribute("y")),n=e(i.getAttribute("width")),o=e(i.getAttribute("height"));return{left:a,top:s,width:n,height:o}}function s(t,e){function i(t){var e=t.tagName;if(c[e]){var n=c[e](t,a);n&&(n.scale=a,n.properties={name:t.getAttribute("name")||""},n.id=t.id,h(n,t),s.push(n))}for(var o=t.childNodes,r=0,l=o.length;l>r;r++)i(o[r])}var a=[e.scale.x,e.scale.y],s=[];return i(t),s}function n(t,e){var i=e instanceof Array?[1*e[0],1*e[1]]:[1*e.x,1*e.y];return[i[0]/t.scale.x,i[1]/t.scale.y]}function o(t,e){var i=e instanceof Array?[1*e[0],1*e[1]]:[1*e.x,1*e.y];return[i[0]*t.scale.x,i[1]*t.scale.y]}function r(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function h(t,e){var i=e.getAttribute("fill"),a=e.getAttribute("stroke"),s=e.getAttribute("stroke-width"),n=e.getAttribute("opacity");i&&"none"!=i?(t.color=i,a?(t.brushType="both",t.strokeColor=a):t.brushType="fill"):a&&"none"!=a&&(t.strokeColor=a,t.brushType="stroke"),s&&"none"!=s&&(t.lineWidth=parseFloat(s)),n&&"none"!=n&&(t.opacity=parseFloat(n))}function l(t){for(var e=r(t).replace(/,/g," ").split(/\s+/),i=[],a=0;a<e.length;){var s=parseFloat(e[a++]),n=parseFloat(e[a++]);i.push([s,n])}return i}var p=i(726),c={path:function(t,e){var i=t.getAttribute("d"),a=p.prototype.getRect({path:i});return{shapeType:"path",path:i,cp:[(a.x+a.width/2)*e[0],(a.y+a.height/2)*e[1]]}},rect:function(t,i){var a=e(t.getAttribute("x")),s=e(t.getAttribute("y")),n=e(t.getAttribute("width")),o=e(t.getAttribute("height"));return{shapeType:"rectangle",x:a,y:s,width:n,height:o,cp:[(a+n/2)*i[0],(s+o/2)*i[1]]}},line:function(t,i){var a=e(t.getAttribute("x1")),s=e(t.getAttribute("y1")),n=e(t.getAttribute("x2")),o=e(t.getAttribute("y2"));return{shapeType:"line",xStart:a,yStart:s,xEnd:n,yEnd:o,cp:[.5*(a+n)*i[0],.5*(s+o)*i[1]]}},circle:function(t,i){var a=e(t.getAttribute("cx")),s=e(t.getAttribute("cy")),n=e(t.getAttribute("r"));return{shapeType:"circle",x:a,y:s,r:n,cp:[a*i[0],s*i[1]]}},ellipse:function(t,e){var i=parseFloat(t.getAttribute("cx")||0),a=parseFloat(t.getAttribute("cy")||0),s=parseFloat(t.getAttribute("rx")||0),n=parseFloat(t.getAttribute("ry")||0);return{shapeType:"ellipse",x:i,y:a,a:s,b:n,cp:[i*e[0],a*e[1]]}},polygon:function(t,e){var i=t.getAttribute("points"),a=[1/0,1/0],s=[-(1/0),-(1/0)];if(i){i=l(i);for(var n=0;n<i.length;n++){var o=i[n];a[0]=Math.min(o[0],a[0]),a[1]=Math.min(o[1],a[1]),s[0]=Math.max(o[0],s[0]),s[1]=Math.max(o[1],s[1])}return{shapeType:"polygon",pointList:i,cp:[(a[0]+s[0])/2*e[0],(a[1]+s[1])/2*e[0]]}}},polyline:function(t,e){var i=c.polygon(t,e);return i}};return{getBbox:a,geoJson2Path:s,pos2geo:n,geo2pos:o}}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},772:function(t,e,i){var a;a=function(){function t(t,i){return i=i||{},t.srcSize||e(t,i),t.srcSize}function e(t,e){e=e||{},o.xmin=360,o.xmax=-360,o.ymin=180,o.ymax=-180;for(var i,a,s=t.features,n=0,r=s.length;r>n;n++)if(a=s[n],!a.properties.name||!e[a.properties.name])switch(a.type){case"Feature":o[a.geometry.type](a.geometry.coordinates);break;case"GeometryCollection":i=a.geometries;for(var h=0,l=i.length;l>h;h++)o[i[h].type](i[h].coordinates)}return t.srcSize={left:1*o.xmin.toFixed(4),top:1*o.ymin.toFixed(4),width:1*(o.xmax-o.xmin).toFixed(4),height:1*(o.ymax-o.ymin).toFixed(4)},t}function i(t,i,a){function s(t,e){_=t.type,f=t.coordinates,n._bbox={xmin:360,xmax:-360,ymin:180,ymax:-180},m=n[_](f),p.push({path:m,cp:e.properties.cp?n.makePoint(e.properties.cp):n.makePoint([(n._bbox.xmin+n._bbox.xmax)/2,(n._bbox.ymin+n._bbox.ymax)/2]),properties:e.properties,id:e.id})}a=a||{},n.scale=null,n.offset=null,t.srcSize||e(t,a),i.offset={x:t.srcSize.left,y:t.srcSize.top,left:i.OffsetLeft||0,top:i.OffsetTop||0},n.scale=i.scale,n.offset=i.offset;for(var o,r,h,l=t.features,p=[],c=0,d=l.length;d>c;c++)if(h=l[c],!h.properties.name||!a[h.properties.name])if("Feature"==h.type)s(h.geometry,h);else if("GeometryCollection"==h.type){o=h.geometries;for(var u=0,g=o.length;g>u;u++)r=o[u],s(r,r)}var _,f,m;return p}function a(t,e){var i,a;return e instanceof Array?(i=1*e[0],a=1*e[1]):(i=1*e.x,a=1*e.y),i=i/t.scale.x+t.offset.x-168.5,i=i>180?i-360:i,a=90-(a/t.scale.y+t.offset.y),[i,a]}function s(t,e){return n.offset=t.offset,n.scale=t.scale,e instanceof Array?n.makePoint([1*e[0],1*e[1]]):n.makePoint([1*e.x,1*e.y])}var n={formatPoint:function(t){return[(t[0]<-168.5&&t[1]>63.8?t[0]+360:t[0])+168.5,90-t[1]]},makePoint:function(t){var e=this,i=e.formatPoint(t);e._bbox.xmin>t[0]&&(e._bbox.xmin=t[0]),e._bbox.xmax<t[0]&&(e._bbox.xmax=t[0]),e._bbox.ymin>t[1]&&(e._bbox.ymin=t[1]),e._bbox.ymax<t[1]&&(e._bbox.ymax=t[1]);var a=(i[0]-n.offset.x)*n.scale.x+n.offset.left,s=(i[1]-n.offset.y)*n.scale.y+n.offset.top;return[a,s]},Point:function(t){return t=this.makePoint(t),t.join(",")},LineString:function(t){for(var e,i="",a=0,s=t.length;s>a;a++)e=n.makePoint(t[a]),i=0===a?"M"+e.join(","):i+"L"+e.join(",");return i},Polygon:function(t){for(var e="",i=0,a=t.length;a>i;i++)e=e+n.LineString(t[i])+"z";return e},MultiPoint:function(t){for(var e=[],i=0,a=t.length;a>i;i++)e.push(n.Point(t[i]));return e},MultiLineString:function(t){for(var e="",i=0,a=t.length;a>i;i++)e+=n.LineString(t[i]);return e},MultiPolygon:function(t){for(var e="",i=0,a=t.length;a>i;i++)e+=n.Polygon(t[i]);return e}},o={formatPoint:n.formatPoint,makePoint:function(t){var e=this,i=e.formatPoint(t),a=i[0],s=i[1];e.xmin>a&&(e.xmin=a),e.xmax<a&&(e.xmax=a),e.ymin>s&&(e.ymin=s),e.ymax<s&&(e.ymax=s)},Point:function(t){this.makePoint(t)},LineString:function(t){for(var e=0,i=t.length;i>e;e++)this.makePoint(t[e])},Polygon:function(t){for(var e=0,i=t.length;i>e;e++)this.LineString(t[e])},MultiPoint:function(t){for(var e=0,i=t.length;i>e;e++)this.Point(t[e])},MultiLineString:function(t){for(var e=0,i=t.length;i>e;e++)this.LineString(t[e])},MultiPolygon:function(t){for(var e=0,i=t.length;i>e;e++)this.Polygon(t[e])}};return{getBbox:t,geoJson2Path:i,pos2geo:a,geo2pos:s}}.call(e,i,e,t),!(void 0!==a&&(t.exports=a))},773:function(t,e){t.exports='\n<div class="component-echarts">\n    <p class="component-echarts-inds" v-if="type !== \'line\'">\n        <label v-for="ind in inds" track-by="$index">\n            <input type="radio" :name="id" :value="ind" v-model="nowInd">\n            {{ind}}\n        </label>\n    </p>\n    <div\n        :id="\'component-\' + componentId + \'-container\'"\n        v-el:chart\n        class="component-echarts-container"\n        :class="{\n            \'component-echarts-container-full\': type === \'line\',\n            \'empty-chart\': isEmpty()\n        }"\n        :data-now-type="type">\n    </div>\n</div>\n'}});